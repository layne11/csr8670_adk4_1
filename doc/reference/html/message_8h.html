<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.4"/>
<title>BlueLab: message.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">BlueLab
   &#160;<span id="projectnumber">BlueLab-7.1-Release</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.4 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_885cc87fac2d91e269af0a5a959fa5f6.html">E:</a></li><li class="navelem"><a class="el" href="dir_c7e0e8d12b42f3739b71747656f18cd0.html">work_layne</a></li><li class="navelem"><a class="el" href="dir_21e8aa1b508721822d5da9358e8a66b3.html">layne</a></li><li class="navelem"><a class="el" href="dir_e4efa088505d514b69950f8abe76ce9a.html">csr8670</a></li><li class="navelem"><a class="el" href="dir_d69a05324820a15d5f908ec5057bc420.html">tools</a></li><li class="navelem"><a class="el" href="dir_33b4f9d0a7e332b5324a4fedfd59dca5.html">include</a></li><li class="navelem"><a class="el" href="dir_d66de6a51e5a24d2d6d7ec778992ab9f.html">firmware</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">message.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Control message passing.  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:abbac3674b5de413b14711663fecdac0c"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="message_8h.html#abbac3674b5de413b14711663fecdac0c">D_IMMEDIATE</a>&#160;&#160;&#160;((<a class="el" href="message___8h.html#ae1e345aaae4bc35b886cf08525488cff">Delay</a>) -1)</td></tr>
<tr class="separator:abbac3674b5de413b14711663fecdac0c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa4887c97964bb4b21033da07323351e1"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="message_8h.html#aa4887c97964bb4b21033da07323351e1">D_SEC</a>(s)&#160;&#160;&#160;((<a class="el" href="message___8h.html#ae1e345aaae4bc35b886cf08525488cff">Delay</a>) ((s) * (<a class="el" href="message___8h.html#ae1e345aaae4bc35b886cf08525488cff">Delay</a>) 1000))</td></tr>
<tr class="separator:aa4887c97964bb4b21033da07323351e1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a68594e6fe13d4f4ed3437f5522332e75"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="message_8h.html#a68594e6fe13d4f4ed3437f5522332e75">D_MIN</a>(m)&#160;&#160;&#160;((<a class="el" href="message___8h.html#ae1e345aaae4bc35b886cf08525488cff">Delay</a>) ((m) * (<a class="el" href="message___8h.html#ae1e345aaae4bc35b886cf08525488cff">Delay</a>) 1000 * (<a class="el" href="message___8h.html#ae1e345aaae4bc35b886cf08525488cff">Delay</a>) 60))</td></tr>
<tr class="separator:a68594e6fe13d4f4ed3437f5522332e75"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abbd5bd034d0d9f0679779a47edf2ab16"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="message_8h.html#abbd5bd034d0d9f0679779a47edf2ab16">D_HOUR</a>(h)&#160;&#160;&#160;((<a class="el" href="message___8h.html#ae1e345aaae4bc35b886cf08525488cff">Delay</a>) ((h) * (<a class="el" href="message___8h.html#ae1e345aaae4bc35b886cf08525488cff">Delay</a>) 1000 * (<a class="el" href="message___8h.html#ae1e345aaae4bc35b886cf08525488cff">Delay</a>) 60) * (<a class="el" href="message___8h.html#ae1e345aaae4bc35b886cf08525488cff">Delay</a>) 60)</td></tr>
<tr class="separator:abbd5bd034d0d9f0679779a47edf2ab16"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3b6fe5c212e712e5f3bbd266083963a7"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="message_8h.html#a3b6fe5c212e712e5f3bbd266083963a7">MESSAGE_MAKE</a>(NAME, TYPE)</td></tr>
<tr class="memdesc:a3b6fe5c212e712e5f3bbd266083963a7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Allocate a message, suitable for sending. This macro allocates space for a message and initialises a variable with a pointer to the space. The pointer should be passed to one of the MessageSend functions, or passed to free. The space could either be on the stack or the heap.  <a href="#a3b6fe5c212e712e5f3bbd266083963a7">More...</a><br/></td></tr>
<tr class="separator:a3b6fe5c212e712e5f3bbd266083963a7"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a0f39613be3d1455b29e6ed560e692c1c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="message_8h.html#a0f39613be3d1455b29e6ed560e692c1c">MessageSendLater</a> (<a class="el" href="message___8h.html#a51d7b6544fb734b892b35ce3f56a579a">Task</a> task, <a class="el" href="message___8h.html#aa135f64d9b1113995d9335c8e9314d95">MessageId</a> id, void *message, <a class="el" href="csrtypes_8h.html#a4b435a49c74bb91f284f075e63416cb6">uint32</a> delay)</td></tr>
<tr class="memdesc:a0f39613be3d1455b29e6ed560e692c1c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Send a message to the corresponding task after the given delay in ms. The message will be passed to free after delivery.  <a href="#a0f39613be3d1455b29e6ed560e692c1c">More...</a><br/></td></tr>
<tr class="separator:a0f39613be3d1455b29e6ed560e692c1c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6dcd584c07addfbbd068a0498c7c817d"><td class="memItemLeft" align="right" valign="top"><a class="el" href="csrtypes_8h.html#a5341710c15e14e51d946a5a5f14b27a6">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="message_8h.html#a6dcd584c07addfbbd068a0498c7c817d">MessageCancelFirst</a> (<a class="el" href="message___8h.html#a51d7b6544fb734b892b35ce3f56a579a">Task</a> task, <a class="el" href="message___8h.html#aa135f64d9b1113995d9335c8e9314d95">MessageId</a> id)</td></tr>
<tr class="memdesc:a6dcd584c07addfbbd068a0498c7c817d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Cancel the first queued message with the given task and message id.  <a href="#a6dcd584c07addfbbd068a0498c7c817d">More...</a><br/></td></tr>
<tr class="separator:a6dcd584c07addfbbd068a0498c7c817d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a77b36f30530a6cd62a2e0f34a787063c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="message_8h.html#a77b36f30530a6cd62a2e0f34a787063c">MessageWait</a> (void *m)</td></tr>
<tr class="memdesc:a77b36f30530a6cd62a2e0f34a787063c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Block waiting for the next message.  <a href="#a77b36f30530a6cd62a2e0f34a787063c">More...</a><br/></td></tr>
<tr class="separator:a77b36f30530a6cd62a2e0f34a787063c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa608780f111499c54dbde65797a25e82"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="message_8h.html#aa608780f111499c54dbde65797a25e82">MessageSendConditionally</a> (<a class="el" href="message___8h.html#a51d7b6544fb734b892b35ce3f56a579a">Task</a> t, <a class="el" href="message___8h.html#aa135f64d9b1113995d9335c8e9314d95">MessageId</a> id, <a class="el" href="message___8h.html#acc69ef471490ab4c4bfd1e511aba5c74">Message</a> m, const <a class="el" href="csrtypes_8h.html#a05f6b0ae8f6a6e135b0e290c25fe0e4e">uint16</a> *c)</td></tr>
<tr class="memdesc:aa608780f111499c54dbde65797a25e82"><td class="mdescLeft">&#160;</td><td class="mdescRight">Send a message to be delivered when the corresponding uint16 is zero.  <a href="#aa608780f111499c54dbde65797a25e82">More...</a><br/></td></tr>
<tr class="separator:aa608780f111499c54dbde65797a25e82"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab073d6e18fc7734b64b17adf1f36fece"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="message_8h.html#ab073d6e18fc7734b64b17adf1f36fece">MessageFree</a> (<a class="el" href="message___8h.html#aa135f64d9b1113995d9335c8e9314d95">MessageId</a> id, <a class="el" href="message___8h.html#acc69ef471490ab4c4bfd1e511aba5c74">Message</a> data)</td></tr>
<tr class="memdesc:ab073d6e18fc7734b64b17adf1f36fece"><td class="mdescLeft">&#160;</td><td class="mdescRight">Frees the memory pointer to by data.  <a href="#ab073d6e18fc7734b64b17adf1f36fece">More...</a><br/></td></tr>
<tr class="separator:ab073d6e18fc7734b64b17adf1f36fece"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5e7e761f76a8dc42e40f6693514f3da0"><td class="memItemLeft" align="right" valign="top"><a class="el" href="csrtypes_8h.html#a05f6b0ae8f6a6e135b0e290c25fe0e4e">uint16</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="message_8h.html#a5e7e761f76a8dc42e40f6693514f3da0">MessageFlushTask</a> (<a class="el" href="message___8h.html#a51d7b6544fb734b892b35ce3f56a579a">Task</a> task)</td></tr>
<tr class="memdesc:a5e7e761f76a8dc42e40f6693514f3da0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Cancel all queued messages (independent of id) for the given task.  <a href="#a5e7e761f76a8dc42e40f6693514f3da0">More...</a><br/></td></tr>
<tr class="separator:a5e7e761f76a8dc42e40f6693514f3da0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abd1023998e25adee54f220a8d71736ae"><td class="memItemLeft" align="right" valign="top"><a class="el" href="message___8h.html#a51d7b6544fb734b892b35ce3f56a579a">Task</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="message_8h.html#abd1023998e25adee54f220a8d71736ae">MessageSystemTask</a> (<a class="el" href="message___8h.html#a51d7b6544fb734b892b35ce3f56a579a">Task</a> task)</td></tr>
<tr class="memdesc:abd1023998e25adee54f220a8d71736ae"><td class="mdescLeft">&#160;</td><td class="mdescRight">Register a task to handle system-wide messages.  <a href="#abd1023998e25adee54f220a8d71736ae">More...</a><br/></td></tr>
<tr class="separator:abd1023998e25adee54f220a8d71736ae"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3a491ae8deeebdcb69fc57f3c6f4d1cd"><td class="memItemLeft" align="right" valign="top"><a class="el" href="message___8h.html#a51d7b6544fb734b892b35ce3f56a579a">Task</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="message_8h.html#a3a491ae8deeebdcb69fc57f3c6f4d1cd">MessagePioTask</a> (<a class="el" href="message___8h.html#a51d7b6544fb734b892b35ce3f56a579a">Task</a> task)</td></tr>
<tr class="memdesc:a3a491ae8deeebdcb69fc57f3c6f4d1cd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Register a task to handle PIO changes.  <a href="#a3a491ae8deeebdcb69fc57f3c6f4d1cd">More...</a><br/></td></tr>
<tr class="separator:a3a491ae8deeebdcb69fc57f3c6f4d1cd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a61420034184939b95d28cf30681d5914"><td class="memItemLeft" align="right" valign="top"><a class="el" href="message___8h.html#a51d7b6544fb734b892b35ce3f56a579a">Task</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="message_8h.html#a61420034184939b95d28cf30681d5914">MessageSinkTask</a> (<a class="el" href="sink___8h.html#a250a23fcb6a29255bb2526a002d691b2">Sink</a> sink, <a class="el" href="message___8h.html#a51d7b6544fb734b892b35ce3f56a579a">Task</a> task)</td></tr>
<tr class="memdesc:a61420034184939b95d28cf30681d5914"><td class="mdescLeft">&#160;</td><td class="mdescRight">Associate a Task with a Sink (and the corresponding source).  <a href="#a61420034184939b95d28cf30681d5914">More...</a><br/></td></tr>
<tr class="separator:a61420034184939b95d28cf30681d5914"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6103efb67e54dbd650f79ff8f06b466f"><td class="memItemLeft" align="right" valign="top"><a class="el" href="message___8h.html#a51d7b6544fb734b892b35ce3f56a579a">Task</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="message_8h.html#a6103efb67e54dbd650f79ff8f06b466f">MessageSinkGetTask</a> (<a class="el" href="sink___8h.html#a250a23fcb6a29255bb2526a002d691b2">Sink</a> sink)</td></tr>
<tr class="memdesc:a6103efb67e54dbd650f79ff8f06b466f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the Task currently associated with a sink.  <a href="#a6103efb67e54dbd650f79ff8f06b466f">More...</a><br/></td></tr>
<tr class="separator:a6103efb67e54dbd650f79ff8f06b466f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa73667e552cfb8659bf7c63f37e5784b"><td class="memItemLeft" align="right" valign="top"><a class="el" href="message___8h.html#a51d7b6544fb734b892b35ce3f56a579a">Task</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="message_8h.html#aa73667e552cfb8659bf7c63f37e5784b">MessageStatusTask</a> (<a class="el" href="message___8h.html#a51d7b6544fb734b892b35ce3f56a579a">Task</a> task, <a class="el" href="csrtypes_8h.html#a05f6b0ae8f6a6e135b0e290c25fe0e4e">uint16</a> count, const <a class="el" href="status__if_8h.html#af8b188eb386ac7b7c74bd383e2131439">status_field</a> *fields)</td></tr>
<tr class="memdesc:aa73667e552cfb8659bf7c63f37e5784b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Register a task to receive a message when status values change.  <a href="#aa73667e552cfb8659bf7c63f37e5784b">More...</a><br/></td></tr>
<tr class="separator:aa73667e552cfb8659bf7c63f37e5784b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a96fee19a89278d84a3c5df047191b754"><td class="memItemLeft" align="right" valign="top"><a class="el" href="message___8h.html#a51d7b6544fb734b892b35ce3f56a579a">Task</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="message_8h.html#a96fee19a89278d84a3c5df047191b754">MessageHostCommsTask</a> (<a class="el" href="message___8h.html#a51d7b6544fb734b892b35ce3f56a579a">Task</a> task)</td></tr>
<tr class="memdesc:a96fee19a89278d84a3c5df047191b754"><td class="mdescLeft">&#160;</td><td class="mdescRight">Register a task to handle HostComms primitives.  <a href="#a96fee19a89278d84a3c5df047191b754">More...</a><br/></td></tr>
<tr class="separator:a96fee19a89278d84a3c5df047191b754"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a95b9d502d69a5d4e42cc3b9334c94b32"><td class="memItemLeft" align="right" valign="top"><a class="el" href="message___8h.html#a51d7b6544fb734b892b35ce3f56a579a">Task</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="message_8h.html#a95b9d502d69a5d4e42cc3b9334c94b32">MessageBlueStackTask</a> (<a class="el" href="message___8h.html#a51d7b6544fb734b892b35ce3f56a579a">Task</a> task)</td></tr>
<tr class="memdesc:a95b9d502d69a5d4e42cc3b9334c94b32"><td class="mdescLeft">&#160;</td><td class="mdescRight">Register a task to handle BlueStack primitives.  <a href="#a95b9d502d69a5d4e42cc3b9334c94b32">More...</a><br/></td></tr>
<tr class="separator:a95b9d502d69a5d4e42cc3b9334c94b32"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8a88539269ae6c142208e1af0dc7b8b3"><td class="memItemLeft" align="right" valign="top"><a class="el" href="message___8h.html#a51d7b6544fb734b892b35ce3f56a579a">Task</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="message_8h.html#a8a88539269ae6c142208e1af0dc7b8b3">MessageKalimbaTask</a> (<a class="el" href="message___8h.html#a51d7b6544fb734b892b35ce3f56a579a">Task</a> task)</td></tr>
<tr class="memdesc:a8a88539269ae6c142208e1af0dc7b8b3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Register a task to handle messages from Kalimba.  <a href="#a8a88539269ae6c142208e1af0dc7b8b3">More...</a><br/></td></tr>
<tr class="separator:a8a88539269ae6c142208e1af0dc7b8b3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac570522edba696d6ddc4ecb42fbc7a39"><td class="memItemLeft" align="right" valign="top"><a class="el" href="message___8h.html#a51d7b6544fb734b892b35ce3f56a579a">Task</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="message_8h.html#ac570522edba696d6ddc4ecb42fbc7a39">MessageChargerTask</a> (<a class="el" href="message___8h.html#a51d7b6544fb734b892b35ce3f56a579a">Task</a> task)</td></tr>
<tr class="memdesc:ac570522edba696d6ddc4ecb42fbc7a39"><td class="mdescLeft">&#160;</td><td class="mdescRight">Register a task to handle messages from the onchip battery charger and power system hardware.  <a href="#ac570522edba696d6ddc4ecb42fbc7a39">More...</a><br/></td></tr>
<tr class="separator:ac570522edba696d6ddc4ecb42fbc7a39"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6da24dbb8dc02d3310924caf013235d5"><td class="memItemLeft" align="right" valign="top"><a class="el" href="message___8h.html#a51d7b6544fb734b892b35ce3f56a579a">Task</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="message_8h.html#a6da24dbb8dc02d3310924caf013235d5">MessageCapsenseTask</a> (<a class="el" href="message___8h.html#a51d7b6544fb734b892b35ce3f56a579a">Task</a> task)</td></tr>
<tr class="memdesc:a6da24dbb8dc02d3310924caf013235d5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Register a task to handle touch sensor messages.  <a href="#a6da24dbb8dc02d3310924caf013235d5">More...</a><br/></td></tr>
<tr class="separator:a6da24dbb8dc02d3310924caf013235d5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abcdbacb41dd8edf00d78888bbc8469c8"><td class="memItemLeft" align="right" valign="top"><a class="el" href="message___8h.html#a51d7b6544fb734b892b35ce3f56a579a">Task</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="message_8h.html#abcdbacb41dd8edf00d78888bbc8469c8">MessageAttTask</a> (<a class="el" href="message___8h.html#a51d7b6544fb734b892b35ce3f56a579a">Task</a> task)</td></tr>
<tr class="memdesc:abcdbacb41dd8edf00d78888bbc8469c8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Register a task to handle BlueStack ATT primitives.  <a href="#abcdbacb41dd8edf00d78888bbc8469c8">More...</a><br/></td></tr>
<tr class="separator:abcdbacb41dd8edf00d78888bbc8469c8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a892e5334ca546467ff074a7e759f9a31"><td class="memItemLeft" align="right" valign="top"><a class="el" href="message___8h.html#a51d7b6544fb734b892b35ce3f56a579a">Task</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="message_8h.html#a892e5334ca546467ff074a7e759f9a31">MessageInfraredTask</a> (<a class="el" href="message___8h.html#a51d7b6544fb734b892b35ce3f56a579a">Task</a> task)</td></tr>
<tr class="memdesc:a892e5334ca546467ff074a7e759f9a31"><td class="mdescLeft">&#160;</td><td class="mdescRight">Register a task to handle infrared messages.  <a href="#a892e5334ca546467ff074a7e759f9a31">More...</a><br/></td></tr>
<tr class="separator:a892e5334ca546467ff074a7e759f9a31"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3403e8d5ac60b783ea554a4dcf6b09b8"><td class="memItemLeft" align="right" valign="top"><a class="el" href="message___8h.html#a51d7b6544fb734b892b35ce3f56a579a">Task</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="message_8h.html#a3403e8d5ac60b783ea554a4dcf6b09b8">MessageHostBccmdTask</a> (<a class="el" href="message___8h.html#a51d7b6544fb734b892b35ce3f56a579a">Task</a> task)</td></tr>
<tr class="memdesc:a3403e8d5ac60b783ea554a4dcf6b09b8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Register a task to handle the BCCMD messages from Host.  <a href="#a3403e8d5ac60b783ea554a4dcf6b09b8">More...</a><br/></td></tr>
<tr class="separator:a3403e8d5ac60b783ea554a4dcf6b09b8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab68600b91dc9e36d4c49666378f34e93"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="message_8h.html#ab68600b91dc9e36d4c49666378f34e93">MessageSend</a> (<a class="el" href="message___8h.html#a51d7b6544fb734b892b35ce3f56a579a">Task</a> task, <a class="el" href="message___8h.html#aa135f64d9b1113995d9335c8e9314d95">MessageId</a> id, void *message)</td></tr>
<tr class="memdesc:ab68600b91dc9e36d4c49666378f34e93"><td class="mdescLeft">&#160;</td><td class="mdescRight">Send a message to the corresponding task immediately. The message will be passed to free after delivery.  <a href="#ab68600b91dc9e36d4c49666378f34e93">More...</a><br/></td></tr>
<tr class="separator:ab68600b91dc9e36d4c49666378f34e93"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a953ecee7d9af90fb8b0b469d5290e710"><td class="memItemLeft" align="right" valign="top"><a class="el" href="csrtypes_8h.html#a05f6b0ae8f6a6e135b0e290c25fe0e4e">uint16</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="message_8h.html#a953ecee7d9af90fb8b0b469d5290e710">MessageCancelAll</a> (<a class="el" href="message___8h.html#a51d7b6544fb734b892b35ce3f56a579a">Task</a> task, <a class="el" href="message___8h.html#aa135f64d9b1113995d9335c8e9314d95">MessageId</a> id)</td></tr>
<tr class="memdesc:a953ecee7d9af90fb8b0b469d5290e710"><td class="mdescLeft">&#160;</td><td class="mdescRight">Cancel all queued messages with the given task and message id.  <a href="#a953ecee7d9af90fb8b0b469d5290e710">More...</a><br/></td></tr>
<tr class="separator:a953ecee7d9af90fb8b0b469d5290e710"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9e79de42d5ec582e7a250e551be928ec"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="message_8h.html#a9e79de42d5ec582e7a250e551be928ec">MessageLoop</a> (void)</td></tr>
<tr class="memdesc:a9e79de42d5ec582e7a250e551be928ec"><td class="mdescLeft">&#160;</td><td class="mdescRight">The main scheduler loop; it waits until the next message is due and then sends it to the corresponding task. Never returns.  <a href="#a9e79de42d5ec582e7a250e551be928ec">More...</a><br/></td></tr>
<tr class="separator:a9e79de42d5ec582e7a250e551be928ec"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0a877a40c18669bd69f487d325369afd"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="message_8h.html#a0a877a40c18669bd69f487d325369afd">MessageSendConditionallyOnTask</a> (<a class="el" href="message___8h.html#a51d7b6544fb734b892b35ce3f56a579a">Task</a> t, <a class="el" href="message___8h.html#aa135f64d9b1113995d9335c8e9314d95">MessageId</a> id, <a class="el" href="message___8h.html#acc69ef471490ab4c4bfd1e511aba5c74">Message</a> m, const <a class="el" href="message___8h.html#a51d7b6544fb734b892b35ce3f56a579a">Task</a> *c)</td></tr>
<tr class="memdesc:a0a877a40c18669bd69f487d325369afd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Send a message to be delivered when the corresponding Task is zero.  <a href="#a0a877a40c18669bd69f487d325369afd">More...</a><br/></td></tr>
<tr class="separator:a0a877a40c18669bd69f487d325369afd"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Control message passing. </p>
<dl class="section user"><dt>Tasks and Message Queues</dt><dd></dd></dl>
<p>The messaging functions provide a mechanism for asynchronously posting messages between tasks. Messages are posted to MessageQueues which are owned by Tasks. A Task which owns a non-empty MessageQueue will be run by the scheduler.</p>
<dl class="section user"><dt>Creating and Destroying Messages</dt><dd></dd></dl>
<p>Messages are dynamically allocated which means that they come out of a very limited dynamic-block budget. It is therefore important to ensure that messages are consumed as soon as possible after being produced. Put another way, messages are intended to be a signaling mechanism rather than a data-buffering mechanism.</p>
<p>All messages have an identifier property, and some may also contain a payload. </p>
</div><h2 class="groupheader">Macro Definition Documentation</h2>
<a class="anchor" id="abbac3674b5de413b14711663fecdac0c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define D_IMMEDIATE&#160;&#160;&#160;((<a class="el" href="message___8h.html#ae1e345aaae4bc35b886cf08525488cff">Delay</a>) -1)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>No delay, perform immediately. </p>

</div>
</div>
<a class="anchor" id="aa4887c97964bb4b21033da07323351e1"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define D_SEC</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">s)</td><td></td>
          <td>&#160;&#160;&#160;((<a class="el" href="message___8h.html#ae1e345aaae4bc35b886cf08525488cff">Delay</a>) ((s) * (<a class="el" href="message___8h.html#ae1e345aaae4bc35b886cf08525488cff">Delay</a>) 1000))</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Number of seconds to delay for. </p>

</div>
</div>
<a class="anchor" id="a68594e6fe13d4f4ed3437f5522332e75"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define D_MIN</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">m)</td><td></td>
          <td>&#160;&#160;&#160;((<a class="el" href="message___8h.html#ae1e345aaae4bc35b886cf08525488cff">Delay</a>) ((m) * (<a class="el" href="message___8h.html#ae1e345aaae4bc35b886cf08525488cff">Delay</a>) 1000 * (<a class="el" href="message___8h.html#ae1e345aaae4bc35b886cf08525488cff">Delay</a>) 60))</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Number of minutes to delay for. </p>

</div>
</div>
<a class="anchor" id="abbd5bd034d0d9f0679779a47edf2ab16"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define D_HOUR</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">h)</td><td></td>
          <td>&#160;&#160;&#160;((<a class="el" href="message___8h.html#ae1e345aaae4bc35b886cf08525488cff">Delay</a>) ((h) * (<a class="el" href="message___8h.html#ae1e345aaae4bc35b886cf08525488cff">Delay</a>) 1000 * (<a class="el" href="message___8h.html#ae1e345aaae4bc35b886cf08525488cff">Delay</a>) 60) * (<a class="el" href="message___8h.html#ae1e345aaae4bc35b886cf08525488cff">Delay</a>) 60)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Number of hours to delay for. </p>

</div>
</div>
<a class="anchor" id="a3b6fe5c212e712e5f3bbd266083963a7"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MESSAGE_MAKE</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">NAME, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">TYPE&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line"><a class="code" href="csrtypes_8h.html#a05f6b0ae8f6a6e135b0e290c25fe0e4e">uint16</a> NAME##_[1+(<span class="keyword">sizeof</span>(TYPE) &lt; 4 ? 4 : <span class="keyword">sizeof</span>(TYPE) &lt; 20 ? <span class="keyword">sizeof</span>(TYPE) : 0)]; \</div>
<div class="line">TYPE * <span class="keyword">const</span> NAME = <span class="keyword">sizeof</span>(NAME##_)&gt;1 ? (TYPE *) ((NAME##_[0]=<span class="keyword">sizeof</span>(TYPE)),(1+NAME##_)) : <a class="code" href="panic_8h.html#a62d7296480ccf113076188108ff3fe7b">PanicUnlessNew</a>(TYPE)</div>
</div><!-- fragment -->
<p>Allocate a message, suitable for sending. This macro allocates space for a message and initialises a variable with a pointer to the space. The pointer should be passed to one of the MessageSend functions, or passed to free. The space could either be on the stack or the heap. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">NAME</td><td>the name of the variable to be declared and initialised with the pointer </td></tr>
    <tr><td class="paramname">TYPE</td><td>the type to use to determine how much space to allocate </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="a0f39613be3d1455b29e6ed560e692c1c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void MessageSendLater </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="message___8h.html#a51d7b6544fb734b892b35ce3f56a579a">Task</a>&#160;</td>
          <td class="paramname"><em>task</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="message___8h.html#aa135f64d9b1113995d9335c8e9314d95">MessageId</a>&#160;</td>
          <td class="paramname"><em>id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>message</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="csrtypes_8h.html#a4b435a49c74bb91f284f075e63416cb6">uint32</a>&#160;</td>
          <td class="paramname"><em>delay</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Send a message to the corresponding task after the given delay in ms. The message will be passed to free after delivery. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">task</td><td>The task to deliver the message to. </td></tr>
    <tr><td class="paramname">id</td><td>The message type identifier. </td></tr>
    <tr><td class="paramname">message</td><td>The message data (if any). </td></tr>
    <tr><td class="paramname">delay</td><td>The delay in ms before the message will be sent. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a6dcd584c07addfbbd068a0498c7c817d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="csrtypes_8h.html#a5341710c15e14e51d946a5a5f14b27a6">bool</a> MessageCancelFirst </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="message___8h.html#a51d7b6544fb734b892b35ce3f56a579a">Task</a>&#160;</td>
          <td class="paramname"><em>task</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="message___8h.html#aa135f64d9b1113995d9335c8e9314d95">MessageId</a>&#160;</td>
          <td class="paramname"><em>id</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Cancel the first queued message with the given task and message id. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">task</td><td>The task whose messages will be searched. </td></tr>
    <tr><td class="paramname">id</td><td>The message identifier to search for. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>TRUE if such a message was found and cancelled. </dd></dl>

</div>
</div>
<a class="anchor" id="a77b36f30530a6cd62a2e0f34a787063c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void MessageWait </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>m</em>)</td><td></td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Block waiting for the next message. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">m</td><td>This will be filled out if a message is ready to be delivered.</td></tr>
  </table>
  </dd>
</dl>
<p>This function will either:</p>
<ul>
<li>Fill out 'm' if a message is ready for delivery.</li>
<li>Send the VM to sleep until message delivery time if a message exists but is not ready for delivery.</li>
<li>Send the VM to sleep for the range of a uint32 if no message exists. </li>
</ul>

</div>
</div>
<a class="anchor" id="aa608780f111499c54dbde65797a25e82"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void MessageSendConditionally </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="message___8h.html#a51d7b6544fb734b892b35ce3f56a579a">Task</a>&#160;</td>
          <td class="paramname"><em>t</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="message___8h.html#aa135f64d9b1113995d9335c8e9314d95">MessageId</a>&#160;</td>
          <td class="paramname"><em>id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="message___8h.html#acc69ef471490ab4c4bfd1e511aba5c74">Message</a>&#160;</td>
          <td class="paramname"><em>m</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="csrtypes_8h.html#a05f6b0ae8f6a6e135b0e290c25fe0e4e">uint16</a> *&#160;</td>
          <td class="paramname"><em>c</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Send a message to be delivered when the corresponding uint16 is zero. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">t</td><td>The task to deliver the message to. </td></tr>
    <tr><td class="paramname">id</td><td>The message identifier. </td></tr>
    <tr><td class="paramname">m</td><td>The message data. </td></tr>
    <tr><td class="paramname">c</td><td>The condition that must be zero for the message to be delivered. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ab073d6e18fc7734b64b17adf1f36fece"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void MessageFree </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="message___8h.html#aa135f64d9b1113995d9335c8e9314d95">MessageId</a>&#160;</td>
          <td class="paramname"><em>id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="message___8h.html#acc69ef471490ab4c4bfd1e511aba5c74">Message</a>&#160;</td>
          <td class="paramname"><em>data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Frees the memory pointer to by data. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">id</td><td>The message identifier. </td></tr>
    <tr><td class="paramname">data</td><td>A pointer to the memory to free. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a5e7e761f76a8dc42e40f6693514f3da0"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="csrtypes_8h.html#a05f6b0ae8f6a6e135b0e290c25fe0e4e">uint16</a> MessageFlushTask </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="message___8h.html#a51d7b6544fb734b892b35ce3f56a579a">Task</a>&#160;</td>
          <td class="paramname"><em>task</em>)</td><td></td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Cancel all queued messages (independent of id) for the given task. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">task</td><td>The task to flush all message for. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The number of messages removed from the queue.</dd></dl>
<p>This function is used as part of the process of freeing a task.</p>
<p>It will flush all the messages which were queued earlier to be sent to the registered task.</p>
<p>Also, it will deregister the given task from being the recipient of any firmware/bluestack messages. </p>

</div>
</div>
<a class="anchor" id="abd1023998e25adee54f220a8d71736ae"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="message___8h.html#a51d7b6544fb734b892b35ce3f56a579a">Task</a> MessageSystemTask </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="message___8h.html#a51d7b6544fb734b892b35ce3f56a579a">Task</a>&#160;</td>
          <td class="paramname"><em>task</em>)</td><td></td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Register a task to handle system-wide messages. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">task</td><td>The task which will receive the messages.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The old task (or zero).</dd></dl>
<p>Currently the system-wide messages are:</p>
<ul>
<li><a class="el" href="system__message_8h.html#a55a8ffe51060c9d65ec65afd99a0d2d4">MESSAGE_USB_ENUMERATED</a></li>
<li><a class="el" href="system__message_8h.html#ad34d98b81d305489e4e79ddbc0ad6cef">MESSAGE_USB_SUSPENDED</a></li>
<li><a class="el" href="system__message_8h.html#a6f68d3b6e377afa2ef105bad60a59752">MESSAGE_USB_DECONFIGURED</a></li>
<li><a class="el" href="system__message_8h.html#aa73c391cf65d947e306d6d6aa4ddd3eb">MESSAGE_USB_ALT_INTERFACE</a></li>
<li><a class="el" href="system__message_8h.html#a01d32e8fdf220134854501ac73e931ce">MESSAGE_USB_ATTACHED</a></li>
<li><a class="el" href="system__message_8h.html#a90ff574b31aeedb5ee5644b1a2fe4e9d">MESSAGE_USB_DETACHED</a></li>
<li><a class="el" href="system__message_8h.html#a9a2bdbde02f4c63e06892c6033d06f06">MESSAGE_PSFL_FAULT</a></li>
<li><a class="el" href="system__message_8h.html#a9c0ef1009dee09f0eeee5f38a7d7e25b">MESSAGE_TX_POWER_CHANGE_EVENT</a></li>
</ul>
<p>Other such messages may be added. </p>

</div>
</div>
<a class="anchor" id="a3a491ae8deeebdcb69fc57f3c6f4d1cd"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="message___8h.html#a51d7b6544fb734b892b35ce3f56a579a">Task</a> MessagePioTask </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="message___8h.html#a51d7b6544fb734b892b35ce3f56a579a">Task</a>&#160;</td>
          <td class="paramname"><em>task</em>)</td><td></td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Register a task to handle PIO changes. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">task</td><td>This task will receive <a class="el" href="system__message_8h.html#aba7afadb4b6eba0e23ee0d20d0387923">MESSAGE_PIO_CHANGED</a> messages when the pins configured by <a class="el" href="pio_8h.html#ae422dd475550e0305818cd7c0fd521f5" title="Configure PIO monitoring. ">PioDebounce32()</a> change. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The old task (or zero). </dd></dl>

</div>
</div>
<a class="anchor" id="a61420034184939b95d28cf30681d5914"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="message___8h.html#a51d7b6544fb734b892b35ce3f56a579a">Task</a> MessageSinkTask </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="sink___8h.html#a250a23fcb6a29255bb2526a002d691b2">Sink</a>&#160;</td>
          <td class="paramname"><em>sink</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="message___8h.html#a51d7b6544fb734b892b35ce3f56a579a">Task</a>&#160;</td>
          <td class="paramname"><em>task</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Associate a Task with a Sink (and the corresponding source). </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">sink</td><td>The sink to use. </td></tr>
    <tr><td class="paramname">task</td><td>The task to associate.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The previous task for this sink, if any, or zero otherwise. </dd></dl>

</div>
</div>
<a class="anchor" id="a6103efb67e54dbd650f79ff8f06b466f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="message___8h.html#a51d7b6544fb734b892b35ce3f56a579a">Task</a> MessageSinkGetTask </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="sink___8h.html#a250a23fcb6a29255bb2526a002d691b2">Sink</a>&#160;</td>
          <td class="paramname"><em>sink</em>)</td><td></td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the Task currently associated with a sink. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">sink</td><td>The sink to use. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="aa73667e552cfb8659bf7c63f37e5784b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="message___8h.html#a51d7b6544fb734b892b35ce3f56a579a">Task</a> MessageStatusTask </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="message___8h.html#a51d7b6544fb734b892b35ce3f56a579a">Task</a>&#160;</td>
          <td class="paramname"><em>task</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="csrtypes_8h.html#a05f6b0ae8f6a6e135b0e290c25fe0e4e">uint16</a>&#160;</td>
          <td class="paramname"><em>count</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="status__if_8h.html#af8b188eb386ac7b7c74bd383e2131439">status_field</a> *&#160;</td>
          <td class="paramname"><em>fields</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Register a task to receive a message when status values change. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">task</td><td>The task to receive the <a class="el" href="system__message_8h.html#a28a53ce25b4f83a8e43e7acbc0f275b2">MESSAGE_STATUS_CHANGED</a> message. </td></tr>
    <tr><td class="paramname">count</td><td>How many fields to monitor </td></tr>
    <tr><td class="paramname">fields</td><td>The fields to monitor</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The previously registered task, if any.</dd></dl>
<p>The registered task will receive just one message and must register itself again if it wishes to receive another.</p>
<p>A message will be sent when any of the listed status fields may have changed. </p>

</div>
</div>
<a class="anchor" id="a96fee19a89278d84a3c5df047191b754"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="message___8h.html#a51d7b6544fb734b892b35ce3f56a579a">Task</a> MessageHostCommsTask </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="message___8h.html#a51d7b6544fb734b892b35ce3f56a579a">Task</a>&#160;</td>
          <td class="paramname"><em>task</em>)</td><td></td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Register a task to handle HostComms primitives. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">task</td><td>This task will receive <a class="el" href="system__message_8h.html#ac3bb1b330d705149f9c84df24dd00768">MESSAGE_FROM_HOST</a> </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The old task (or zero). </dd></dl>

</div>
</div>
<a class="anchor" id="a95b9d502d69a5d4e42cc3b9334c94b32"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="message___8h.html#a51d7b6544fb734b892b35ce3f56a579a">Task</a> MessageBlueStackTask </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="message___8h.html#a51d7b6544fb734b892b35ce3f56a579a">Task</a>&#160;</td>
          <td class="paramname"><em>task</em>)</td><td></td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Register a task to handle BlueStack primitives. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">task</td><td>This task will receive MESSAGE_BLUESTACK_*_PRIM, except <a class="el" href="system__message_8h.html#a0fd8dc0d9c8fbf87baf0d591dbd56104">MESSAGE_BLUESTACK_ATT_PRIM</a> that are handled by the <a class="el" href="message_8h.html#abcdbacb41dd8edf00d78888bbc8469c8" title="Register a task to handle BlueStack ATT primitives. ">MessageAttTask()</a>. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The old task (or zero). </dd></dl>

</div>
</div>
<a class="anchor" id="a8a88539269ae6c142208e1af0dc7b8b3"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="message___8h.html#a51d7b6544fb734b892b35ce3f56a579a">Task</a> MessageKalimbaTask </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="message___8h.html#a51d7b6544fb734b892b35ce3f56a579a">Task</a>&#160;</td>
          <td class="paramname"><em>task</em>)</td><td></td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Register a task to handle messages from Kalimba. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">task</td><td>This task will receive <a class="el" href="system__message_8h.html#a33a6ad69b535965afed5347d13b673b0">MESSAGE_FROM_KALIMBA</a> and <a class="el" href="system__message_8h.html#a440fd911b8c431e92500b732e82196df">MESSAGE_FROM_KALIMBA_LONG</a> messages.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The previous task, if any, or zero otherwise. </dd></dl>

</div>
</div>
<a class="anchor" id="ac570522edba696d6ddc4ecb42fbc7a39"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="message___8h.html#a51d7b6544fb734b892b35ce3f56a579a">Task</a> MessageChargerTask </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="message___8h.html#a51d7b6544fb734b892b35ce3f56a579a">Task</a>&#160;</td>
          <td class="paramname"><em>task</em>)</td><td></td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Register a task to handle messages from the onchip battery charger and power system hardware. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">task</td><td>This task will receive <a class="el" href="system__message_8h.html#ae8778423d6ebdffc0402b581c66cb8cc">MESSAGE_CHARGER_CHANGED</a> messages when parts of the charger or power system hardware changes. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The old task (or zero). </dd></dl>

</div>
</div>
<a class="anchor" id="a6da24dbb8dc02d3310924caf013235d5"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="message___8h.html#a51d7b6544fb734b892b35ce3f56a579a">Task</a> MessageCapsenseTask </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="message___8h.html#a51d7b6544fb734b892b35ce3f56a579a">Task</a>&#160;</td>
          <td class="paramname"><em>task</em>)</td><td></td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Register a task to handle touch sensor messages. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">task</td><td>The task which will receive the messages.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The old task (or zero). </dd></dl>

</div>
</div>
<a class="anchor" id="abcdbacb41dd8edf00d78888bbc8469c8"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="message___8h.html#a51d7b6544fb734b892b35ce3f56a579a">Task</a> MessageAttTask </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="message___8h.html#a51d7b6544fb734b892b35ce3f56a579a">Task</a>&#160;</td>
          <td class="paramname"><em>task</em>)</td><td></td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Register a task to handle BlueStack ATT primitives. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">task</td><td>This task will receive <a class="el" href="system__message_8h.html#a0fd8dc0d9c8fbf87baf0d591dbd56104">MESSAGE_BLUESTACK_ATT_PRIM</a>. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The old task (or zero). </dd></dl>

</div>
</div>
<a class="anchor" id="a892e5334ca546467ff074a7e759f9a31"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="message___8h.html#a51d7b6544fb734b892b35ce3f56a579a">Task</a> MessageInfraredTask </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="message___8h.html#a51d7b6544fb734b892b35ce3f56a579a">Task</a>&#160;</td>
          <td class="paramname"><em>task</em>)</td><td></td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Register a task to handle infrared messages. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">task</td><td>The task which will receive the messages.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The old task (or zero). </dd></dl>

</div>
</div>
<a class="anchor" id="a3403e8d5ac60b783ea554a4dcf6b09b8"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="message___8h.html#a51d7b6544fb734b892b35ce3f56a579a">Task</a> MessageHostBccmdTask </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="message___8h.html#a51d7b6544fb734b892b35ce3f56a579a">Task</a>&#160;</td>
          <td class="paramname"><em>task</em>)</td><td></td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Register a task to handle the BCCMD messages from Host. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">task</td><td>The task will receive the message <a class="el" href="system__message_8h.html#a2c3993534d99f7d6fffec9142c8e4127">MESSAGE_HOST_BCCMD</a>. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The previous registered task, if any, or zero otherwise. </dd></dl>

</div>
</div>
<a class="anchor" id="ab68600b91dc9e36d4c49666378f34e93"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void MessageSend </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="message___8h.html#a51d7b6544fb734b892b35ce3f56a579a">Task</a>&#160;</td>
          <td class="paramname"><em>task</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="message___8h.html#aa135f64d9b1113995d9335c8e9314d95">MessageId</a>&#160;</td>
          <td class="paramname"><em>id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>message</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Send a message to the corresponding task immediately. The message will be passed to free after delivery. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">task</td><td>The task to deliver the message to. </td></tr>
    <tr><td class="paramname">id</td><td>The message type identifier. </td></tr>
    <tr><td class="paramname">message</td><td>The message data (if any). </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a953ecee7d9af90fb8b0b469d5290e710"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="csrtypes_8h.html#a05f6b0ae8f6a6e135b0e290c25fe0e4e">uint16</a> MessageCancelAll </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="message___8h.html#a51d7b6544fb734b892b35ce3f56a579a">Task</a>&#160;</td>
          <td class="paramname"><em>task</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="message___8h.html#aa135f64d9b1113995d9335c8e9314d95">MessageId</a>&#160;</td>
          <td class="paramname"><em>id</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Cancel all queued messages with the given task and message id. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">task</td><td>The task to cancel message for. </td></tr>
    <tr><td class="paramname">id</td><td>The message identifier to search for. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A count of how many such messages were cancelled. </dd></dl>

</div>
</div>
<a class="anchor" id="a9e79de42d5ec582e7a250e551be928ec"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void MessageLoop </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname">)</td><td></td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The main scheduler loop; it waits until the next message is due and then sends it to the corresponding task. Never returns. </p>

</div>
</div>
<a class="anchor" id="a0a877a40c18669bd69f487d325369afd"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void MessageSendConditionallyOnTask </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="message___8h.html#a51d7b6544fb734b892b35ce3f56a579a">Task</a>&#160;</td>
          <td class="paramname"><em>t</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="message___8h.html#aa135f64d9b1113995d9335c8e9314d95">MessageId</a>&#160;</td>
          <td class="paramname"><em>id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="message___8h.html#acc69ef471490ab4c4bfd1e511aba5c74">Message</a>&#160;</td>
          <td class="paramname"><em>m</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="message___8h.html#a51d7b6544fb734b892b35ce3f56a579a">Task</a> *&#160;</td>
          <td class="paramname"><em>c</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Send a message to be delivered when the corresponding Task is zero. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">t</td><td>The task to deliver the message to. </td></tr>
    <tr><td class="paramname">id</td><td>The message identifier. </td></tr>
    <tr><td class="paramname">m</td><td>The message data. </td></tr>
    <tr><td class="paramname">c</td><td>The task that must be zero for the message to be delivered. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Mon Sep 2 2019 10:47:44 for BlueLab by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.4
</small></address>
</body>
</html>
