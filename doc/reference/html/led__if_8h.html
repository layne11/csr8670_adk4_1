<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.4"/>
<title>BlueLab: led_if.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">BlueLab
   &#160;<span id="projectnumber">BlueLab-7.1-Release</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.4 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_885cc87fac2d91e269af0a5a959fa5f6.html">E:</a></li><li class="navelem"><a class="el" href="dir_c7e0e8d12b42f3739b71747656f18cd0.html">work_layne</a></li><li class="navelem"><a class="el" href="dir_21e8aa1b508721822d5da9358e8a66b3.html">layne</a></li><li class="navelem"><a class="el" href="dir_e4efa088505d514b69950f8abe76ce9a.html">csr8670</a></li><li class="navelem"><a class="el" href="dir_d69a05324820a15d5f908ec5057bc420.html">tools</a></li><li class="navelem"><a class="el" href="dir_33b4f9d0a7e332b5324a4fedfd59dca5.html">include</a></li><li class="navelem"><a class="el" href="dir_d66de6a51e5a24d2d6d7ec778992ab9f.html">firmware</a></li><li class="navelem"><a class="el" href="dir_1f76313b92391bd421cc1636513cdd7e.html">app</a></li><li class="navelem"><a class="el" href="dir_5462e605707bd837a5f7265a66dc4ebf.html">led</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#enum-members">Enumerations</a>  </div>
  <div class="headertitle">
<div class="title">led_if.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Configuration parameters for LED control.  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:acb7e9e867e9fca70f6201b3c5c6a71ea"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="led__if_8h.html#acb7e9e867e9fca70f6201b3c5c6a71ea">led_id</a> { <br/>
&#160;&#160;<a class="el" href="led__if_8h.html#acb7e9e867e9fca70f6201b3c5c6a71eaa8312fbd732e656f38ddd252142c92424">LED_0</a>, 
<br/>
&#160;&#160;<a class="el" href="led__if_8h.html#acb7e9e867e9fca70f6201b3c5c6a71eaa11a9adb9054de1fe01d6a6750075f57b">LED_1</a>, 
<br/>
&#160;&#160;<a class="el" href="led__if_8h.html#acb7e9e867e9fca70f6201b3c5c6a71eaa00af6b2437d9982f1f125d2cc2537c41">LED_2</a>, 
<br/>
&#160;&#160;<a class="el" href="led__if_8h.html#acb7e9e867e9fca70f6201b3c5c6a71eaa3e1b1af0f74f675e4eb7bd18229adfd3">LED_3</a>, 
<br/>
&#160;&#160;<a class="el" href="led__if_8h.html#acb7e9e867e9fca70f6201b3c5c6a71eaada6e5fa936f81b6b94078ecc353a7f5f">LED_4</a>, 
<br/>
&#160;&#160;<a class="el" href="led__if_8h.html#acb7e9e867e9fca70f6201b3c5c6a71eaab269092e5bd05f7b80e5970b81458289">LED_5</a>, 
<br/>
&#160;&#160;<a class="el" href="led__if_8h.html#acb7e9e867e9fca70f6201b3c5c6a71eaa79884ba8146ba18ee56b0626b8753f8a">NUM_OF_LEDS</a>
<br/>
 }</td></tr>
<tr class="memdesc:acb7e9e867e9fca70f6201b3c5c6a71ea"><td class="mdescLeft">&#160;</td><td class="mdescRight">IDs used to configure the LED pads with the <a class="el" href="led_8h.html#af252177d2e5a5db0766706ff38905867" title="Control the LED hardware present on some BlueCore variants. ">LedConfigure()</a> trap. Some BlueCore variants support no LED pads at all, some support two LED pads (LED_0 and LED_1) and some support three LED pads.  <a href="led__if_8h.html#acb7e9e867e9fca70f6201b3c5c6a71ea">More...</a><br/></td></tr>
<tr class="separator:acb7e9e867e9fca70f6201b3c5c6a71ea"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa0c0b4061229152a5a6d8791e017640e"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="led__if_8h.html#aa0c0b4061229152a5a6d8791e017640e">led_config_key</a> { <br/>
&#160;&#160;<a class="el" href="led__if_8h.html#aa0c0b4061229152a5a6d8791e017640ea91057da8dedb4e6848a437a2b8e3d2f1">LED_ENABLE</a>, 
<br/>
&#160;&#160;<a class="el" href="led__if_8h.html#aa0c0b4061229152a5a6d8791e017640ea671b4170c9fa072573f689da9eac8e00">LED_DUTY_CYCLE</a>, 
<br/>
&#160;&#160;<a class="el" href="led__if_8h.html#aa0c0b4061229152a5a6d8791e017640ea2639116e37ccd1105750522d7aa00001">LED_PERIOD</a>, 
<br/>
&#160;&#160;<a class="el" href="led__if_8h.html#aa0c0b4061229152a5a6d8791e017640ea0f93c3a142cfdb5775881f7962ba4938">LED_FLASH_ENABLE</a>, 
<br/>
&#160;&#160;<a class="el" href="led__if_8h.html#aa0c0b4061229152a5a6d8791e017640eabee27a484143e18cf4e5c1952650770f">LED_FLASH_RATE</a>, 
<br/>
&#160;&#160;<a class="el" href="led__if_8h.html#aa0c0b4061229152a5a6d8791e017640ea1720c95addc6fea1318d06deb6c0d399">LED_FLASH_MAX_HOLD</a>, 
<br/>
&#160;&#160;<a class="el" href="led__if_8h.html#aa0c0b4061229152a5a6d8791e017640ea2a21ace2f5b9941f45514c77898ceadf">LED_FLASH_MIN_HOLD</a>, 
<br/>
&#160;&#160;<a class="el" href="led__if_8h.html#aa0c0b4061229152a5a6d8791e017640ead09c2bc100606761a769cbb820f9282c">LED_FLASH_SEL_INVERT</a>, 
<br/>
&#160;&#160;<a class="el" href="led__if_8h.html#aa0c0b4061229152a5a6d8791e017640ea93e329181b869966eb23d634e6e868f8">LED_FLASH_SEL_DRIVE</a>, 
<br/>
&#160;&#160;<a class="el" href="led__if_8h.html#aa0c0b4061229152a5a6d8791e017640eafbefc993fa900db40b1e42a4621ebab9">LED_FLASH_SEL_TRISTATE</a>
<br/>
 }</td></tr>
<tr class="memdesc:aa0c0b4061229152a5a6d8791e017640e"><td class="mdescLeft">&#160;</td><td class="mdescRight">LED config keys.  <a href="led__if_8h.html#aa0c0b4061229152a5a6d8791e017640e">More...</a><br/></td></tr>
<tr class="separator:aa0c0b4061229152a5a6d8791e017640e"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Configuration parameters for LED control. </p>
<p>Some BlueCore variants (usually headset parts) have dedicated LED pads. In addition to simple ON/OFF controls, some BlueCore variants have hardware support for dimming and/or flashing these LEDs. The LEDs are configured using a key/value system with the <a class="el" href="led_8h.html#af252177d2e5a5db0766706ff38905867" title="Control the LED hardware present on some BlueCore variants. ">LedConfigure()</a> VM trap.</p>
<p>Consult the datasheet for your BlueCore variant to identify how many LED pads it supports. </p>
</div><h2 class="groupheader">Enumeration Type Documentation</h2>
<a class="anchor" id="acb7e9e867e9fca70f6201b3c5c6a71ea"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="led__if_8h.html#acb7e9e867e9fca70f6201b3c5c6a71ea">led_id</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>IDs used to configure the LED pads with the <a class="el" href="led_8h.html#af252177d2e5a5db0766706ff38905867" title="Control the LED hardware present on some BlueCore variants. ">LedConfigure()</a> trap. Some BlueCore variants support no LED pads at all, some support two LED pads (LED_0 and LED_1) and some support three LED pads. </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><em><a class="anchor" id="acb7e9e867e9fca70f6201b3c5c6a71eaa8312fbd732e656f38ddd252142c92424"></a>LED_0</em>&nbsp;</td><td class="fielddoc">
</td></tr>
<tr><td class="fieldname"><em><a class="anchor" id="acb7e9e867e9fca70f6201b3c5c6a71eaa11a9adb9054de1fe01d6a6750075f57b"></a>LED_1</em>&nbsp;</td><td class="fielddoc">
</td></tr>
<tr><td class="fieldname"><em><a class="anchor" id="acb7e9e867e9fca70f6201b3c5c6a71eaa00af6b2437d9982f1f125d2cc2537c41"></a>LED_2</em>&nbsp;</td><td class="fielddoc">
</td></tr>
<tr><td class="fieldname"><em><a class="anchor" id="acb7e9e867e9fca70f6201b3c5c6a71eaa3e1b1af0f74f675e4eb7bd18229adfd3"></a>LED_3</em>&nbsp;</td><td class="fielddoc">
</td></tr>
<tr><td class="fieldname"><em><a class="anchor" id="acb7e9e867e9fca70f6201b3c5c6a71eaada6e5fa936f81b6b94078ecc353a7f5f"></a>LED_4</em>&nbsp;</td><td class="fielddoc">
</td></tr>
<tr><td class="fieldname"><em><a class="anchor" id="acb7e9e867e9fca70f6201b3c5c6a71eaab269092e5bd05f7b80e5970b81458289"></a>LED_5</em>&nbsp;</td><td class="fielddoc">
</td></tr>
<tr><td class="fieldname"><em><a class="anchor" id="acb7e9e867e9fca70f6201b3c5c6a71eaa79884ba8146ba18ee56b0626b8753f8a"></a>NUM_OF_LEDS</em>&nbsp;</td><td class="fielddoc">
</td></tr>
</table>

</div>
</div>
<a class="anchor" id="aa0c0b4061229152a5a6d8791e017640e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="led__if_8h.html#aa0c0b4061229152a5a6d8791e017640e">led_config_key</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>LED config keys. </p>
<p><a class="el" href="led__if_8h.html#aa0c0b4061229152a5a6d8791e017640ea671b4170c9fa072573f689da9eac8e00">LED_DUTY_CYCLE</a> and <a class="el" href="led__if_8h.html#aa0c0b4061229152a5a6d8791e017640ea2639116e37ccd1105750522d7aa00001">LED_PERIOD</a> are used to dim the LED brightness. In order to use these keys, an LED must be enabled by calling LedConfigure(led_id, LED_ENABLE, 1);</p>
<p><a class="el" href="led__if_8h.html#aa0c0b4061229152a5a6d8791e017640ea0f93c3a142cfdb5775881f7962ba4938">LED_FLASH_ENABLE</a> and <a class="el" href="led__if_8h.html#aa0c0b4061229152a5a6d8791e017640eabee27a484143e18cf4e5c1952650770f">LED_FLASH_RATE</a> are used to flash the LEDs. In order to use these keys, an LED must be enabled. </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><em><a class="anchor" id="aa0c0b4061229152a5a6d8791e017640ea91057da8dedb4e6848a437a2b8e3d2f1"></a>LED_ENABLE</em>&nbsp;</td><td class="fielddoc">
<p>When using this key, a zero value will disable the LED pad and a non zero value will enable the LED pad.</p>
<p>Examples:</p>
<div class="fragment"><div class="line"><a class="code" href="led_8h.html#af252177d2e5a5db0766706ff38905867" title="Control the LED hardware present on some BlueCore variants. ">LedConfigure</a>(<a class="code" href="led__if_8h.html#acb7e9e867e9fca70f6201b3c5c6a71eaa8312fbd732e656f38ddd252142c92424">LED_0</a>, <a class="code" href="led__if_8h.html#aa0c0b4061229152a5a6d8791e017640ea91057da8dedb4e6848a437a2b8e3d2f1">LED_ENABLE</a>, 1);  Turn on <a class="code" href="pio__if_8h.html#add6cce9b54fee658d23d673b8eaf4c9ba21447137d62c46e603b924d455e8cd12">LED</a> 0</div>
<div class="line"></div>
<div class="line"><a class="code" href="led_8h.html#af252177d2e5a5db0766706ff38905867" title="Control the LED hardware present on some BlueCore variants. ">LedConfigure</a>(<a class="code" href="led__if_8h.html#acb7e9e867e9fca70f6201b3c5c6a71eaa8312fbd732e656f38ddd252142c92424">LED_0</a>, <a class="code" href="led__if_8h.html#aa0c0b4061229152a5a6d8791e017640ea91057da8dedb4e6848a437a2b8e3d2f1">LED_ENABLE</a>, 0);  Turn off <a class="code" href="pio__if_8h.html#add6cce9b54fee658d23d673b8eaf4c9ba21447137d62c46e603b924d455e8cd12">LED</a> 0</div>
</div><!-- fragment --> </td></tr>
<tr><td class="fieldname"><em><a class="anchor" id="aa0c0b4061229152a5a6d8791e017640ea671b4170c9fa072573f689da9eac8e00"></a>LED_DUTY_CYCLE</em>&nbsp;</td><td class="fielddoc">
<p>LED_DUTY_CYCLE controls the the PWM duty cycle. Valid values with this key range from 0..0xFFF. 0x0 turns the LED off fully, 0xFFF turns the LED on fully. All other values set the duty cycle to the value /4096. </p>
</td></tr>
<tr><td class="fieldname"><em><a class="anchor" id="aa0c0b4061229152a5a6d8791e017640ea2639116e37ccd1105750522d7aa00001"></a>LED_PERIOD</em>&nbsp;</td><td class="fielddoc">
<p>LED_PERIOD controls the PWM period. Valid values with this key range from 0..0xF. pwm_period is calculated as follows:</p>
<p>pwm_period = clock_period * 4096 * 2^LED_PERIOD</p>
<p>Where clock_period is 1/26MHz for CSR8670/CSR8610 and 1/16MHz for earlier.</p>
<p>CSR8670/CSR8610: The resultant range of values is 157uS...5.162S at all times. There is a normalisation adjustment that checks that LED_FLASH_RATE &gt;= LED_PERIOD. The normalisation check will increase LED_FLASH_RATE if necessary, and occurs whenever LED_PERIOD is configured. The normalisation adjustment can be circumvented by configuring LED_PERIOD before configuring LED_FLASH_RATE.</p>
<p>Pre-CSR8670/CSR8610: The resultant range of values is 256us...8.39s when BlueCore is running at full speed. The clock period will be longer when BlueCore is in shallow or deep sleep. </p>
</td></tr>
<tr><td class="fieldname"><em><a class="anchor" id="aa0c0b4061229152a5a6d8791e017640ea0f93c3a142cfdb5775881f7962ba4938"></a>LED_FLASH_ENABLE</em>&nbsp;</td><td class="fielddoc">
<p>When using this key, a zero value will disable the LED flashing hardware and a non zero value will enable the flashing hardware. </p>
</td></tr>
<tr><td class="fieldname"><em><a class="anchor" id="aa0c0b4061229152a5a6d8791e017640eabee27a484143e18cf4e5c1952650770f"></a>LED_FLASH_RATE</em>&nbsp;</td><td class="fielddoc">
<p>Set the rate to flash/pulse LED. Valid values to use with this key range from 0..0xF.</p>
<p>LED_FLASH_RATE sets the flash pulse period as a multiple of pwm_period.</p>
<p>Led Flash Rate is calculated as follows:</p>
<p>Led Flash Period = pwm_period * 96 * 2^LED_FLASH_RATE</p>
<p>Where pwm_period is as calculated above.</p>
<p>And so, LED_FLASH_RATE maps to a multiplier as follows.</p>
<p>LED_FLASH_RATE = 0: Led Flash Period = pwm_period * 96</p>
<p>LED_FLASH_RATE = 1: Led Flash Period = pwm_period * 192</p>
<p>LED_FLASH_RATE = 2: Led Flash Period = pwm_period * 384</p>
<p>LED_FLASH_RATE = 3: Led Flash Period = pwm_period * 768</p>
<p>LED_FLASH_RATE = 4: Led Flash Period = pwm_period * 1536</p>
<p>...</p>
<p>LED_FLASH_RATE = 15: Led Flash Period = pwm_period * 3145728 </p>
</td></tr>
<tr><td class="fieldname"><em><a class="anchor" id="aa0c0b4061229152a5a6d8791e017640ea1720c95addc6fea1318d06deb6c0d399"></a>LED_FLASH_MAX_HOLD</em>&nbsp;</td><td class="fielddoc">
<p>Sets hold time for max PWM when flashing </p>
</td></tr>
<tr><td class="fieldname"><em><a class="anchor" id="aa0c0b4061229152a5a6d8791e017640ea2a21ace2f5b9941f45514c77898ceadf"></a>LED_FLASH_MIN_HOLD</em>&nbsp;</td><td class="fielddoc">
<p>Sets hold time for min PWM when flashing </p>
</td></tr>
<tr><td class="fieldname"><em><a class="anchor" id="aa0c0b4061229152a5a6d8791e017640ead09c2bc100606761a769cbb820f9282c"></a>LED_FLASH_SEL_INVERT</em>&nbsp;</td><td class="fielddoc">
<p>Inverts the PWM output. When using this key, a zero value will disable the feature and a non zero value will enable the feature. </p>
</td></tr>
<tr><td class="fieldname"><em><a class="anchor" id="aa0c0b4061229152a5a6d8791e017640ea93e329181b869966eb23d634e6e868f8"></a>LED_FLASH_SEL_DRIVE</em>&nbsp;</td><td class="fielddoc">
<p>Selects the status of DRIVE pad if Drive EnableB is used for LED output. When using this key, a zero value will disable the feature and a non zero value will enable the feature. </p>
</td></tr>
<tr><td class="fieldname"><em><a class="anchor" id="aa0c0b4061229152a5a6d8791e017640eafbefc993fa900db40b1e42a4621ebab9"></a>LED_FLASH_SEL_TRISTATE</em>&nbsp;</td><td class="fielddoc">
<p>Selects that the LED PWM output controls the Pad drive enableB rather than output. When using this key, a zero value will disable the feature and a non zero value will enable the feature. </p>
</td></tr>
</table>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Mon Sep 2 2019 10:47:44 for BlueLab by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.4
</small></address>
</body>
</html>
