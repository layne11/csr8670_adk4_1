<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.4"/>
<title>BlueLab: host.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">BlueLab
   &#160;<span id="projectnumber">BlueLab-7.1-Release</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.4 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_885cc87fac2d91e269af0a5a959fa5f6.html">E:</a></li><li class="navelem"><a class="el" href="dir_c7e0e8d12b42f3739b71747656f18cd0.html">work_layne</a></li><li class="navelem"><a class="el" href="dir_21e8aa1b508721822d5da9358e8a66b3.html">layne</a></li><li class="navelem"><a class="el" href="dir_e4efa088505d514b69950f8abe76ce9a.html">csr8670</a></li><li class="navelem"><a class="el" href="dir_d69a05324820a15d5f908ec5057bc420.html">tools</a></li><li class="navelem"><a class="el" href="dir_33b4f9d0a7e332b5324a4fedfd59dca5.html">include</a></li><li class="navelem"><a class="el" href="dir_d66de6a51e5a24d2d6d7ec778992ab9f.html">firmware</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">host.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Host communication over a Bluetooth host transport.  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:afc4867fe809327a464eca3c9851f0193"><td class="memItemLeft" align="right" valign="top"><a class="el" href="csrtypes_8h.html#a05f6b0ae8f6a6e135b0e290c25fe0e4e">uint16</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="host_8h.html#afc4867fe809327a464eca3c9851f0193">HostSendMessage</a> (<a class="el" href="csrtypes_8h.html#a05f6b0ae8f6a6e135b0e290c25fe0e4e">uint16</a> *msg)</td></tr>
<tr class="memdesc:afc4867fe809327a464eca3c9851f0193"><td class="mdescLeft">&#160;</td><td class="mdescRight">Send a message to the host on BCSP:13.  <a href="#afc4867fe809327a464eca3c9851f0193">More...</a><br/></td></tr>
<tr class="separator:afc4867fe809327a464eca3c9851f0193"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8c5dff58775fc93c1ccbce7be96915a0"><td class="memItemLeft" align="right" valign="top"><a class="el" href="csrtypes_8h.html#a5341710c15e14e51d946a5a5f14b27a6">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="host_8h.html#a8c5dff58775fc93c1ccbce7be96915a0">HostSendBccmdMessage</a> (<a class="el" href="csrtypes_8h.html#a05f6b0ae8f6a6e135b0e290c25fe0e4e">uint16</a> *msg, <a class="el" href="csrtypes_8h.html#a05f6b0ae8f6a6e135b0e290c25fe0e4e">uint16</a> len)</td></tr>
<tr class="memdesc:a8c5dff58775fc93c1ccbce7be96915a0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Send a BCCMD message to the firmware for delivering it to the Host.  <a href="#a8c5dff58775fc93c1ccbce7be96915a0">More...</a><br/></td></tr>
<tr class="separator:a8c5dff58775fc93c1ccbce7be96915a0"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Host communication over a Bluetooth host transport. </p>
<p>A user application running on the VM can communicate with the outside world by using channel 13 of the BCSP protocol. This library provides a simple interface for the user application to:</p>
<ul>
<li>send and receive <a class="el" href="host.html#host_messages">16-bit data in messages</a></li>
<li>send and receive <a class="el" href="host.html#host_streams">8-bit data over Streams</a></li>
</ul>
<p>An application which does not use a host transport can use the USB or UART interface directly, using the <a class="el" href="stream_8h.html" title="Sources and sinks of 8-bit data. ">stream.h</a> library. The host library is not used in that case.</p>
<p>User-written software on the host is expected to form the other end of the connection, although the VMSpy can be used on the host for simple testing.</p>
<p>See <a class="el" href="host.html">Host communication</a> for more info. </p>
</div><h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="afc4867fe809327a464eca3c9851f0193"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="csrtypes_8h.html#a05f6b0ae8f6a6e135b0e290c25fe0e4e">uint16</a> HostSendMessage </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="csrtypes_8h.html#a05f6b0ae8f6a6e135b0e290c25fe0e4e">uint16</a> *&#160;</td>
          <td class="paramname"><em>msg</em>)</td><td></td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Send a message to the host on BCSP:13. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">msg</td><td>The message (block) to send. If the block has been malloc'd then it will be free'd automatically as part of this call. Non-malloc'd blocks (for example, constant arrays) will be copied into a block malloc'd by the call, and that block will be used instead. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The length of the block sent on success, zero otherwise. </dd></dl>

</div>
</div>
<a class="anchor" id="a8c5dff58775fc93c1ccbce7be96915a0"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="csrtypes_8h.html#a5341710c15e14e51d946a5a5f14b27a6">bool</a> HostSendBccmdMessage </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="csrtypes_8h.html#a05f6b0ae8f6a6e135b0e290c25fe0e4e">uint16</a> *&#160;</td>
          <td class="paramname"><em>msg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="csrtypes_8h.html#a05f6b0ae8f6a6e135b0e290c25fe0e4e">uint16</a>&#160;</td>
          <td class="paramname"><em>len</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Send a BCCMD message to the firmware for delivering it to the Host. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">msg</td><td>Pointer to the message block. </td></tr>
    <tr><td class="paramname">len</td><td>The length of the message block. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>TRUE if BlueCore firmware has taken the ownership of the message block for sending it to the Host, otherwise FALSE.</dd></dl>
<dl class="section note"><dt>Note</dt><dd>The message block will be buffered in the firmware. It will be delivered later to the Host when the Host application requests for the same.</dd></dl>
<p>If Host application requests to receive less data compared to the length of the message block then only the requested number of words from the beginning of the message block will be sent to Host. The remaining part of the message block will be discarded in this case.</p>
<p>Only if the message block has been malloc'd by the application and the firmware has taken its ownership then it will be freed by the firmware once it is successfully delivered to the host. </p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Mon Sep 2 2019 10:47:43 for BlueLab by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.4
</small></address>
</body>
</html>
