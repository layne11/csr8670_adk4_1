<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.4"/>
<title>BlueLab: pio.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">BlueLab
   &#160;<span id="projectnumber">BlueLab-7.1-Release</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.4 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_885cc87fac2d91e269af0a5a959fa5f6.html">E:</a></li><li class="navelem"><a class="el" href="dir_c7e0e8d12b42f3739b71747656f18cd0.html">work_layne</a></li><li class="navelem"><a class="el" href="dir_21e8aa1b508721822d5da9358e8a66b3.html">layne</a></li><li class="navelem"><a class="el" href="dir_e4efa088505d514b69950f8abe76ce9a.html">csr8670</a></li><li class="navelem"><a class="el" href="dir_d69a05324820a15d5f908ec5057bc420.html">tools</a></li><li class="navelem"><a class="el" href="dir_33b4f9d0a7e332b5324a4fedfd59dca5.html">include</a></li><li class="navelem"><a class="el" href="dir_d66de6a51e5a24d2d6d7ec778992ab9f.html">firmware</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">pio.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Access BlueCore I/O lines.  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:acdec1425fc61500128634e2f126e4973"><td class="memItemLeft" align="right" valign="top"><a class="el" href="csrtypes_8h.html#a5341710c15e14e51d946a5a5f14b27a6">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pio_8h.html#acdec1425fc61500128634e2f126e4973">PioSetAuxDac</a> (<a class="el" href="csrtypes_8h.html#a5341710c15e14e51d946a5a5f14b27a6">bool</a> enabled, <a class="el" href="csrtypes_8h.html#adde6aaee8457bee49c2a92621fe22b79">uint8</a> level)</td></tr>
<tr class="memdesc:acdec1425fc61500128634e2f126e4973"><td class="mdescLeft">&#160;</td><td class="mdescRight">Enables or disables the auxiliary DAC on BlueCore, setting the output level to the requested value.  <a href="#acdec1425fc61500128634e2f126e4973">More...</a><br/></td></tr>
<tr class="separator:acdec1425fc61500128634e2f126e4973"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae422dd475550e0305818cd7c0fd521f5"><td class="memItemLeft" align="right" valign="top"><a class="el" href="csrtypes_8h.html#a4b435a49c74bb91f284f075e63416cb6">uint32</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pio_8h.html#ae422dd475550e0305818cd7c0fd521f5">PioDebounce32</a> (<a class="el" href="csrtypes_8h.html#a4b435a49c74bb91f284f075e63416cb6">uint32</a> mask, <a class="el" href="csrtypes_8h.html#a05f6b0ae8f6a6e135b0e290c25fe0e4e">uint16</a> count, <a class="el" href="csrtypes_8h.html#a05f6b0ae8f6a6e135b0e290c25fe0e4e">uint16</a> period)</td></tr>
<tr class="memdesc:ae422dd475550e0305818cd7c0fd521f5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Configure PIO monitoring.  <a href="#ae422dd475550e0305818cd7c0fd521f5">More...</a><br/></td></tr>
<tr class="separator:ae422dd475550e0305818cd7c0fd521f5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a331b12d7aded7665e97b71dd8bff2394"><td class="memItemLeft" align="right" valign="top"><a class="el" href="csrtypes_8h.html#a4b435a49c74bb91f284f075e63416cb6">uint32</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pio_8h.html#a331b12d7aded7665e97b71dd8bff2394">PioGet32</a> (void)</td></tr>
<tr class="memdesc:a331b12d7aded7665e97b71dd8bff2394"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the contents of the PIO data input register.  <a href="#a331b12d7aded7665e97b71dd8bff2394">More...</a><br/></td></tr>
<tr class="separator:a331b12d7aded7665e97b71dd8bff2394"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab8b6a9c39b5548acf9502dac2e3d0460"><td class="memItemLeft" align="right" valign="top"><a class="el" href="csrtypes_8h.html#a4b435a49c74bb91f284f075e63416cb6">uint32</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pio_8h.html#ab8b6a9c39b5548acf9502dac2e3d0460">PioSet32</a> (<a class="el" href="csrtypes_8h.html#a4b435a49c74bb91f284f075e63416cb6">uint32</a> mask, <a class="el" href="csrtypes_8h.html#a4b435a49c74bb91f284f075e63416cb6">uint32</a> bits)</td></tr>
<tr class="memdesc:ab8b6a9c39b5548acf9502dac2e3d0460"><td class="mdescLeft">&#160;</td><td class="mdescRight">Modifies the contents of the PIO data output register. PIO pins must be set to outputs via <a class="el" href="pio_8h.html#ac5d01f1a8a23db805b3062a2fd1e2ae7" title="Set PIOs as inputs or outputs. ">PioSetDir32()</a> before they can be driven high or low through this trap. This trap also sets pull direction for PIOs used as inputs.  <a href="#ab8b6a9c39b5548acf9502dac2e3d0460">More...</a><br/></td></tr>
<tr class="separator:ab8b6a9c39b5548acf9502dac2e3d0460"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afe5055c2acd1ff98af305445fd702b71"><td class="memItemLeft" align="right" valign="top"><a class="el" href="csrtypes_8h.html#a4b435a49c74bb91f284f075e63416cb6">uint32</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pio_8h.html#afe5055c2acd1ff98af305445fd702b71">PioGetDir32</a> (void)</td></tr>
<tr class="memdesc:afe5055c2acd1ff98af305445fd702b71"><td class="mdescLeft">&#160;</td><td class="mdescRight">Read whether PIOs are set as inputs or outputs.  <a href="#afe5055c2acd1ff98af305445fd702b71">More...</a><br/></td></tr>
<tr class="separator:afe5055c2acd1ff98af305445fd702b71"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac5d01f1a8a23db805b3062a2fd1e2ae7"><td class="memItemLeft" align="right" valign="top"><a class="el" href="csrtypes_8h.html#a4b435a49c74bb91f284f075e63416cb6">uint32</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pio_8h.html#ac5d01f1a8a23db805b3062a2fd1e2ae7">PioSetDir32</a> (<a class="el" href="csrtypes_8h.html#a4b435a49c74bb91f284f075e63416cb6">uint32</a> mask, <a class="el" href="csrtypes_8h.html#a4b435a49c74bb91f284f075e63416cb6">uint32</a> dir)</td></tr>
<tr class="memdesc:ac5d01f1a8a23db805b3062a2fd1e2ae7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set PIOs as inputs or outputs.  <a href="#ac5d01f1a8a23db805b3062a2fd1e2ae7">More...</a><br/></td></tr>
<tr class="separator:ac5d01f1a8a23db805b3062a2fd1e2ae7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad115c4b2f6289e82b479bed1e4a07214"><td class="memItemLeft" align="right" valign="top"><a class="el" href="csrtypes_8h.html#a4b435a49c74bb91f284f075e63416cb6">uint32</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pio_8h.html#ad115c4b2f6289e82b479bed1e4a07214">PioGetStrongBias32</a> (void)</td></tr>
<tr class="memdesc:ad115c4b2f6289e82b479bed1e4a07214"><td class="mdescLeft">&#160;</td><td class="mdescRight">Read whether PIOs are set to use strong or weak pull.  <a href="#ad115c4b2f6289e82b479bed1e4a07214">More...</a><br/></td></tr>
<tr class="separator:ad115c4b2f6289e82b479bed1e4a07214"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abb2506f71cad70178cd2b03068c7b6a0"><td class="memItemLeft" align="right" valign="top"><a class="el" href="csrtypes_8h.html#a4b435a49c74bb91f284f075e63416cb6">uint32</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pio_8h.html#abb2506f71cad70178cd2b03068c7b6a0">PioSetStrongBias32</a> (<a class="el" href="csrtypes_8h.html#a4b435a49c74bb91f284f075e63416cb6">uint32</a> mask, <a class="el" href="csrtypes_8h.html#a4b435a49c74bb91f284f075e63416cb6">uint32</a> bits)</td></tr>
<tr class="memdesc:abb2506f71cad70178cd2b03068c7b6a0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set PIOs to use strong or weak pull when used as inputs.  <a href="#abb2506f71cad70178cd2b03068c7b6a0">More...</a><br/></td></tr>
<tr class="separator:abb2506f71cad70178cd2b03068c7b6a0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac90327f5c3f39279c06b090bcb17dc95"><td class="memItemLeft" align="right" valign="top"><a class="el" href="csrtypes_8h.html#a4b435a49c74bb91f284f075e63416cb6">uint32</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pio_8h.html#ac90327f5c3f39279c06b090bcb17dc95">PioGetMapPins32</a> (void)</td></tr>
<tr class="memdesc:ac90327f5c3f39279c06b090bcb17dc95"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns a 32 bit value showing which PIO lines have been mapped to chip pins (see documentation for <a class="el" href="pio_8h.html#a7451bed3c1711348d8d7cf8abc3ff3fb" title="Cause the usual function of chip pins to be suppressed, and instead make them behave as PIOs...">PioSetMapPins32()</a> for more detail).  <a href="#ac90327f5c3f39279c06b090bcb17dc95">More...</a><br/></td></tr>
<tr class="separator:ac90327f5c3f39279c06b090bcb17dc95"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7451bed3c1711348d8d7cf8abc3ff3fb"><td class="memItemLeft" align="right" valign="top"><a class="el" href="csrtypes_8h.html#a4b435a49c74bb91f284f075e63416cb6">uint32</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pio_8h.html#a7451bed3c1711348d8d7cf8abc3ff3fb">PioSetMapPins32</a> (<a class="el" href="csrtypes_8h.html#a4b435a49c74bb91f284f075e63416cb6">uint32</a> mask, <a class="el" href="csrtypes_8h.html#a4b435a49c74bb91f284f075e63416cb6">uint32</a> bits)</td></tr>
<tr class="memdesc:a7451bed3c1711348d8d7cf8abc3ff3fb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Cause the usual function of chip pins to be suppressed, and instead make them behave as PIOs.  <a href="#a7451bed3c1711348d8d7cf8abc3ff3fb">More...</a><br/></td></tr>
<tr class="separator:a7451bed3c1711348d8d7cf8abc3ff3fb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3ff8863f0304bbd1842bc77040abbfe0"><td class="memItemLeft" align="right" valign="top"><a class="el" href="csrtypes_8h.html#a5341710c15e14e51d946a5a5f14b27a6">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pio_8h.html#a3ff8863f0304bbd1842bc77040abbfe0">PioSetRts</a> (<a class="el" href="csrtypes_8h.html#a5341710c15e14e51d946a5a5f14b27a6">bool</a> level)</td></tr>
<tr class="memdesc:a3ff8863f0304bbd1842bc77040abbfe0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Controls the settings of the RTS line.  <a href="#a3ff8863f0304bbd1842bc77040abbfe0">More...</a><br/></td></tr>
<tr class="separator:a3ff8863f0304bbd1842bc77040abbfe0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a39bb207992ad720bfb74d9d302a785bd"><td class="memItemLeft" align="right" valign="top"><a class="el" href="csrtypes_8h.html#a5341710c15e14e51d946a5a5f14b27a6">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pio_8h.html#a39bb207992ad720bfb74d9d302a785bd">PioGetCts</a> (void)</td></tr>
<tr class="memdesc:a39bb207992ad720bfb74d9d302a785bd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Lets the VM check the status of the Clear To Send UART pin.  <a href="#a39bb207992ad720bfb74d9d302a785bd">More...</a><br/></td></tr>
<tr class="separator:a39bb207992ad720bfb74d9d302a785bd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a855e31fe69fa614de5c86ab5adab582f"><td class="memItemLeft" align="right" valign="top"><a class="el" href="csrtypes_8h.html#a4b435a49c74bb91f284f075e63416cb6">uint32</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pio_8h.html#a855e31fe69fa614de5c86ab5adab582f">PioGetKalimbaControl32</a> (void)</td></tr>
<tr class="memdesc:a855e31fe69fa614de5c86ab5adab582f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Find out which pins are under kalimba control.  <a href="#a855e31fe69fa614de5c86ab5adab582f">More...</a><br/></td></tr>
<tr class="separator:a855e31fe69fa614de5c86ab5adab582f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a65b6c2fb4b2b5c67f3eb5e7ceed4b143"><td class="memItemLeft" align="right" valign="top"><a class="el" href="csrtypes_8h.html#a4b435a49c74bb91f284f075e63416cb6">uint32</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pio_8h.html#a65b6c2fb4b2b5c67f3eb5e7ceed4b143">PioSetKalimbaControl32</a> (<a class="el" href="csrtypes_8h.html#a4b435a49c74bb91f284f075e63416cb6">uint32</a> mask, <a class="el" href="csrtypes_8h.html#a4b435a49c74bb91f284f075e63416cb6">uint32</a> value)</td></tr>
<tr class="memdesc:a65b6c2fb4b2b5c67f3eb5e7ceed4b143"><td class="mdescLeft">&#160;</td><td class="mdescRight">Modify which pins are under control of the Kalimba DSP.  <a href="#a65b6c2fb4b2b5c67f3eb5e7ceed4b143">More...</a><br/></td></tr>
<tr class="separator:a65b6c2fb4b2b5c67f3eb5e7ceed4b143"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a93d107d956c1ac62d3b5807e0f18d661"><td class="memItemLeft" align="right" valign="top"><a class="el" href="csrtypes_8h.html#a5341710c15e14e51d946a5a5f14b27a6">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pio_8h.html#a93d107d956c1ac62d3b5807e0f18d661">PioSetFunction</a> (<a class="el" href="csrtypes_8h.html#a05f6b0ae8f6a6e135b0e290c25fe0e4e">uint16</a> pin, <a class="el" href="pio__if_8h.html#add6cce9b54fee658d23d673b8eaf4c9b">pin_function_id</a> function)</td></tr>
<tr class="memdesc:a93d107d956c1ac62d3b5807e0f18d661"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets a supported function for particular pio pin.  <a href="#a93d107d956c1ac62d3b5807e0f18d661">More...</a><br/></td></tr>
<tr class="separator:a93d107d956c1ac62d3b5807e0f18d661"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a54513e8eb01f7347c2f25f0fd88f2942"><td class="memItemLeft" align="right" valign="top"><a class="el" href="csrtypes_8h.html#a4b435a49c74bb91f284f075e63416cb6">uint32</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pio_8h.html#a54513e8eb01f7347c2f25f0fd88f2942">PioGetUnusedPins32</a> (void)</td></tr>
<tr class="memdesc:a54513e8eb01f7347c2f25f0fd88f2942"><td class="mdescLeft">&#160;</td><td class="mdescRight">Determine which physically existing PIOs are currently not in use by firmware or VM apps.  <a href="#a54513e8eb01f7347c2f25f0fd88f2942">More...</a><br/></td></tr>
<tr class="separator:a54513e8eb01f7347c2f25f0fd88f2942"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa0d361a0c5e4e1ac7b945f5f7264b680"><td class="memItemLeft" align="right" valign="top"><a class="el" href="csrtypes_8h.html#a4b435a49c74bb91f284f075e63416cb6">uint32</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pio_8h.html#aa0d361a0c5e4e1ac7b945f5f7264b680">PioSetLcdPins</a> (<a class="el" href="csrtypes_8h.html#a4b435a49c74bb91f284f075e63416cb6">uint32</a> mask, <a class="el" href="csrtypes_8h.html#a4b435a49c74bb91f284f075e63416cb6">uint32</a> pins, <a class="el" href="csrtypes_8h.html#a05f6b0ae8f6a6e135b0e290c25fe0e4e">uint16</a> common_pin)</td></tr>
<tr class="memdesc:aa0d361a0c5e4e1ac7b945f5f7264b680"><td class="mdescLeft">&#160;</td><td class="mdescRight">Grabs PIOs for use by the LCD block.  <a href="#aa0d361a0c5e4e1ac7b945f5f7264b680">More...</a><br/></td></tr>
<tr class="separator:aa0d361a0c5e4e1ac7b945f5f7264b680"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Access BlueCore I/O lines. </p>
<p>BlueCore variants from BlueCore2 onwards have twelve Programmable Input/Output(PIO) pins and a further three or four pins (dependent on BlueCore variant) may be available if they are not being used as AIO pins.</p>
<p>Some BlueCore variants from BlueCore5-MM onwards have 16 PIO pins and can also control some of the chips UART/PCM lines by mapping them in as PIO pins 16 and greater. Mapping a UART/PCM line as a PIO line stops the line performing its original function, so these lines should only be used as PIOs when these interfaces are not required.</p>
<p>Attempts to configure the upper 16 PIOs will be rejected if these pins have not been mapped first.</p>
<p>Persistent Store keys may be set to hand control of certain PIO pins over to the BlueCore firmware. Examples include PSKEY_USB_PIO_WAKEUP, PSKEY_USB_PIO_DETACH, PSKEY_USB_PIO_PULLUP and PSKEY_USB_PIO_VBUS. In such configurations the VM should not attempt to use these pins.</p>
<p>Various other hardware and software configurations make use of specific PIO pins. Examples include</p>
<ul>
<li>Pio[1:0] Used to control external hardware on Class 1 modules.</li>
<li>Pio[7:6] Used for I2C. </li>
</ul>
</div><h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="acdec1425fc61500128634e2f126e4973"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="csrtypes_8h.html#a5341710c15e14e51d946a5a5f14b27a6">bool</a> PioSetAuxDac </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="csrtypes_8h.html#a5341710c15e14e51d946a5a5f14b27a6">bool</a>&#160;</td>
          <td class="paramname"><em>enabled</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="csrtypes_8h.html#adde6aaee8457bee49c2a92621fe22b79">uint8</a>&#160;</td>
          <td class="paramname"><em>level</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Enables or disables the auxiliary DAC on BlueCore, setting the output level to the requested value. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">enabled</td><td>TRUE or FALSE. </td></tr>
    <tr><td class="paramname">level</td><td>The output level to use.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>TRUE if the request succeeded; FALSE if it could not be honoured because the DAC is in use by other parts of the firmware.</dd></dl>
<p>Note that the auxiliary DAC level drops to 0V when BlueCore enters deep sleep for power-saving. </p>

</div>
</div>
<a class="anchor" id="ae422dd475550e0305818cd7c0fd521f5"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="csrtypes_8h.html#a4b435a49c74bb91f284f075e63416cb6">uint32</a> PioDebounce32 </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="csrtypes_8h.html#a4b435a49c74bb91f284f075e63416cb6">uint32</a>&#160;</td>
          <td class="paramname"><em>mask</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="csrtypes_8h.html#a05f6b0ae8f6a6e135b0e290c25fe0e4e">uint16</a>&#160;</td>
          <td class="paramname"><em>count</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="csrtypes_8h.html#a05f6b0ae8f6a6e135b0e290c25fe0e4e">uint16</a>&#160;</td>
          <td class="paramname"><em>period</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Configure PIO monitoring. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">mask</td><td>Bitmask indicating which pins to monitor. Setting this to zero disables PIO monitoring. </td></tr>
    <tr><td class="paramname">count</td><td>How many times the monitored pins' state must be observed to be consistent before it is considered stable. Zero and one have special significance. If <em>count</em> is 1, then no debouncing is performed - any perceived change of the pins will raise the event. If <em>count</em> is 0, any transition raises the event, even if no change in pin state can be detected; in this case, the "state" members of <a class="el" href="struct_message_pio_changed.html">MessagePioChanged</a> may show no change in state. </td></tr>
    <tr><td class="paramname">period</td><td>The delay in milliseconds between successive reads of the pins. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A 32 bit mask. If any bit in this mask is high then monitoring could not be set up for that PIO; no action will have been taken on any PIOs (any previously set up monitoring will remain in force). The most likely reasons for a non-zero return are attempting to debounce nonexistent PIOs, or attempting to debounce unmapped PIOs. See the <a class="el" href="pio_8h.html#a7451bed3c1711348d8d7cf8abc3ff3fb" title="Cause the usual function of chip pins to be suppressed, and instead make them behave as PIOs...">PioSetMapPins32()</a> documentation for information on which PIOs can be mapped.</dd></dl>
<p>This function configures a simple debounce engine for PIO input pins. It can detect transitions on PIOs and return stabilised readings for them, filtering out glitches.</p>
<p>When the engine detects a change in state of one or more of the monitored pins, it repeatedly reads the pin state. If the state of all the monitored pins remains unchanged for <em>count</em> successive samples, it is considered stable and a <a class="el" href="system__message_8h.html#aba7afadb4b6eba0e23ee0d20d0387923">MESSAGE_PIO_CHANGED</a> message is sent to the task registered with <a class="el" href="message_8h.html#a3a491ae8deeebdcb69fc57f3c6f4d1cd" title="Register a task to handle PIO changes. ">MessagePioTask()</a>.</p>
<dl class="section note"><dt>Note</dt><dd>It is not possible to configure different debounce settings for different pins or groups of pins, or to debounce pins independently of each other.</dd></dl>
<p>Examples:</p>
<p>To enable events on PIO2 and PIO3, with 4 reads 2ms apart (6ms total):</p>
<div class="fragment"><div class="line"><a class="code" href="pio_8h.html#ae422dd475550e0305818cd7c0fd521f5" title="Configure PIO monitoring. ">PioDebounce32</a>(1u&lt;&lt;2 | 1u&lt;&lt;3, 4, 2);</div>
</div><!-- fragment --><p>To enable events on any transition on PIO5 with no debouncing:</p>
<div class="fragment"><div class="line"><a class="code" href="pio_8h.html#ae422dd475550e0305818cd7c0fd521f5" title="Configure PIO monitoring. ">PioDebounce32</a>(1u&lt;&lt;5, 1, 0);</div>
</div><!-- fragment --> 
</div>
</div>
<a class="anchor" id="a331b12d7aded7665e97b71dd8bff2394"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="csrtypes_8h.html#a4b435a49c74bb91f284f075e63416cb6">uint32</a> PioGet32 </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname">)</td><td></td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the contents of the PIO data input register. </p>
<p>For PIOs set as outputs, this function will return the value last written using <a class="el" href="pio_8h.html#ab8b6a9c39b5548acf9502dac2e3d0460" title="Modifies the contents of the PIO data output register. PIO pins must be set to outputs via PioSetDir3...">PioSet32()</a>. </p>

</div>
</div>
<a class="anchor" id="ab8b6a9c39b5548acf9502dac2e3d0460"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="csrtypes_8h.html#a4b435a49c74bb91f284f075e63416cb6">uint32</a> PioSet32 </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="csrtypes_8h.html#a4b435a49c74bb91f284f075e63416cb6">uint32</a>&#160;</td>
          <td class="paramname"><em>mask</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="csrtypes_8h.html#a4b435a49c74bb91f284f075e63416cb6">uint32</a>&#160;</td>
          <td class="paramname"><em>bits</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Modifies the contents of the PIO data output register. PIO pins must be set to outputs via <a class="el" href="pio_8h.html#ac5d01f1a8a23db805b3062a2fd1e2ae7" title="Set PIOs as inputs or outputs. ">PioSetDir32()</a> before they can be driven high or low through this trap. This trap also sets pull direction for PIOs used as inputs. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">mask</td><td>Each bit in the mask corresponds to a PIO line. Bits set to 1 in this mask will be modified. Bits set to 0 in this mask will not be modified.</td></tr>
    <tr><td class="paramname">bits</td><td>Each bit in the "bits" value corresponds to a PIO line. Bits set to 1 in this value will result in that PIO line being driven high. Bits set to 0 in this value will result in that PIO line being driven low.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A 32 bit mask. If any bit in this mask is high then that PIO could not be driven to the level specified; note that no action will have been taken on any PIOs.</dd></dl>
<p>Note that the upper 16 PIOs must be mapped in before they can be used. See the <a class="el" href="pio_8h.html#a7451bed3c1711348d8d7cf8abc3ff3fb" title="Cause the usual function of chip pins to be suppressed, and instead make them behave as PIOs...">PioSetMapPins32()</a> documentation for information on valid PIO directions and PIO mapping.</p>
<p>BlueCore has internal resistors which can be configured to either pull-up or pull-down the pins used for input. This is controlled by the value written to the output register using <a class="el" href="pio_8h.html#ab8b6a9c39b5548acf9502dac2e3d0460" title="Modifies the contents of the PIO data output register. PIO pins must be set to outputs via PioSetDir3...">PioSet32()</a>. The resistors pull-down if the value is zero, and pull-up otherwise, so the following fragment sets pins 1 and 2 to inputs with pin 1 configured to pull-up and pin 2 configured to pull-down.</p>
<div class="fragment"><div class="line"><a class="code" href="pio_8h.html#ab8b6a9c39b5548acf9502dac2e3d0460" title="Modifies the contents of the PIO data output register. PIO pins must be set to outputs via PioSetDir3...">PioSet32</a>(2|4, 2);</div>
<div class="line"><a class="code" href="pio_8h.html#ac5d01f1a8a23db805b3062a2fd1e2ae7" title="Set PIOs as inputs or outputs. ">PioSetDir32</a>(2|4, 0);</div>
</div><!-- fragment --> 
</div>
</div>
<a class="anchor" id="afe5055c2acd1ff98af305445fd702b71"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="csrtypes_8h.html#a4b435a49c74bb91f284f075e63416cb6">uint32</a> PioGetDir32 </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname">)</td><td></td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Read whether PIOs are set as inputs or outputs. </p>
<dl class="section return"><dt>Returns</dt><dd>Each bit in the return value corresponds to a PIO line. Bits set to 1 mean that PIO line is configured as an output. Bits set to 0 mean it is configured as an input. </dd></dl>

</div>
</div>
<a class="anchor" id="ac5d01f1a8a23db805b3062a2fd1e2ae7"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="csrtypes_8h.html#a4b435a49c74bb91f284f075e63416cb6">uint32</a> PioSetDir32 </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="csrtypes_8h.html#a4b435a49c74bb91f284f075e63416cb6">uint32</a>&#160;</td>
          <td class="paramname"><em>mask</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="csrtypes_8h.html#a4b435a49c74bb91f284f075e63416cb6">uint32</a>&#160;</td>
          <td class="paramname"><em>dir</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set PIOs as inputs or outputs. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">mask</td><td>Each bit in the mask corresponds to a PIO line. Bits set to 1 in this mask will be modified. Bits set to 0 in this mask will not be modified.</td></tr>
    <tr><td class="paramname">dir</td><td>Each bit in the "dir" value corresponds to a PIO line. Bits set to 1 in this value will result in that PIO line being configured as an output. Bits set to 0 in this value will result in that PIO line being configured as an input.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A 32 bit mask. If any bit in this mask is high then that PIO could not be set to the direction specified; note that no action will have been taken on any PIOs.</dd></dl>
<p>Note that the upper 16 PIOs must be mapped in before they can be used. See the <a class="el" href="pio_8h.html#a7451bed3c1711348d8d7cf8abc3ff3fb" title="Cause the usual function of chip pins to be suppressed, and instead make them behave as PIOs...">PioSetMapPins32()</a> documentation for information on valid PIO directions and PIO mapping. </p>

</div>
</div>
<a class="anchor" id="ad115c4b2f6289e82b479bed1e4a07214"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="csrtypes_8h.html#a4b435a49c74bb91f284f075e63416cb6">uint32</a> PioGetStrongBias32 </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname">)</td><td></td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Read whether PIOs are set to use strong or weak pull. </p>

</div>
</div>
<a class="anchor" id="abb2506f71cad70178cd2b03068c7b6a0"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="csrtypes_8h.html#a4b435a49c74bb91f284f075e63416cb6">uint32</a> PioSetStrongBias32 </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="csrtypes_8h.html#a4b435a49c74bb91f284f075e63416cb6">uint32</a>&#160;</td>
          <td class="paramname"><em>mask</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="csrtypes_8h.html#a4b435a49c74bb91f284f075e63416cb6">uint32</a>&#160;</td>
          <td class="paramname"><em>bits</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set PIOs to use strong or weak pull when used as inputs. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">mask</td><td>Each bit in the mask corresponds to a PIO line. Bits set to 1 in this mask will be modified. Bits set to 0 in this mask will not be modified.</td></tr>
    <tr><td class="paramname">bits</td><td>Each bit in the "bits" value corresponds to a PIO line. Bits set to 1 in this value will result in that PIO line being configured as having strong bias. Bits set to 0 in this value will result in that PIO line being configured as not having strong bias.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A 32 bit mask. If any bit in this mask is high then that PIO could not be set to use strong bias; note that no action will have been taken on any PIOs.</dd></dl>
<p>BlueCore includes weak internal pull-ups or pull-downs on pins which are being used as inputs (see <a class="el" href="pio_8h.html#ab8b6a9c39b5548acf9502dac2e3d0460" title="Modifies the contents of the PIO data output register. PIO pins must be set to outputs via PioSetDir3...">PioSet32()</a>). This function allows the pull-up or pull-down to be made stronger on a per-pin basis.</p>
<p>So to set pin 4 and 5 as inputs, 4 pulled up weakly, 5 pulled down strongly</p>
<div class="fragment"><div class="line"><a class="code" href="pio_8h.html#ac5d01f1a8a23db805b3062a2fd1e2ae7" title="Set PIOs as inputs or outputs. ">PioSetDir32</a>((1&lt;&lt;4)|(1&lt;&lt;5), 0);</div>
<div class="line"><a class="code" href="pio_8h.html#ab8b6a9c39b5548acf9502dac2e3d0460" title="Modifies the contents of the PIO data output register. PIO pins must be set to outputs via PioSetDir3...">PioSet32</a>((1&lt;&lt;4)|(1&lt;&lt;5), (1&lt;&lt;4));</div>
<div class="line"><a class="code" href="pio_8h.html#abb2506f71cad70178cd2b03068c7b6a0" title="Set PIOs to use strong or weak pull when used as inputs. ">PioSetStrongBias32</a>((1&lt;&lt;4)|(1&lt;&lt;5), (1&lt;&lt;5));</div>
</div><!-- fragment --> 
</div>
</div>
<a class="anchor" id="ac90327f5c3f39279c06b090bcb17dc95"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="csrtypes_8h.html#a4b435a49c74bb91f284f075e63416cb6">uint32</a> PioGetMapPins32 </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname">)</td><td></td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns a 32 bit value showing which PIO lines have been mapped to chip pins (see documentation for <a class="el" href="pio_8h.html#a7451bed3c1711348d8d7cf8abc3ff3fb" title="Cause the usual function of chip pins to be suppressed, and instead make them behave as PIOs...">PioSetMapPins32()</a> for more detail). </p>

</div>
</div>
<a class="anchor" id="a7451bed3c1711348d8d7cf8abc3ff3fb"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="csrtypes_8h.html#a4b435a49c74bb91f284f075e63416cb6">uint32</a> PioSetMapPins32 </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="csrtypes_8h.html#a4b435a49c74bb91f284f075e63416cb6">uint32</a>&#160;</td>
          <td class="paramname"><em>mask</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="csrtypes_8h.html#a4b435a49c74bb91f284f075e63416cb6">uint32</a>&#160;</td>
          <td class="paramname"><em>bits</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Cause the usual function of chip pins to be suppressed, and instead make them behave as PIOs. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">mask</td><td>Each bit in the mask corresponds to a PIO line. Bits set to 1 in this mask will be modified. Bits set to 0 in this mask will not be modified.</td></tr>
    <tr><td class="paramname">bits</td><td>Each bit corresponds to a PIO line. A bit set to 1 will cause a (non-PIO) chip pin to be behave as the corresponding PIO. A bit set to 0 will result in any mapped pin being returned to its original function.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A 32 bit mask. If any bit in this mask is high then that PIO could not be mapped or unmapped; note that no action will have been taken on any PIOs.</dd></dl>
<p>For BC5-MM the PIO lines map to other pins as follows:</p>
<p>(PIO 0..15) have no mapping. They are always PIO 0..15. They can be configured as inputs or outputs.</p>
<p>(PIO 16) maps to PCM_DATA. This can be configured as an input or an output.</p>
<p>(PIO 17) maps to PCM_SYNC. This can be configured as an input or an output.</p>
<p>(PIO 18) maps to UART_DATA_OUT. This can be configured as an input or an output.</p>
<p>(PIO 19) maps to PCM_CLK_OUT. Set this to output to the PCM_CLK pin. This line is output only. Note that the PCM_CLK pin direction shadows PCM_SYNC direction and ignores directions set via <a class="el" href="pio_8h.html#ac5d01f1a8a23db805b3062a2fd1e2ae7" title="Set PIOs as inputs or outputs. ">PioSetDir32()</a>.</p>
<p>(PIO 20) maps to AIO0. Mapping this PIO will overwrite the value set in PSKEY_AMUX_AIO0. Unmapping this PIO will restore the value set in PSKEY_AMUX_AIO0. Note that on BC5-MM configuring AIO lines as PIO lines is not recommended due to the low voltage level.</p>
<p>(PIO 21) maps to AIO1. Mapping this PIO will overwrite the value set in PSKEY_AMUX_AIO1. Unmapping this PIO will restore the value set in PSKEY_AMUX_AIO1. Note that on BC5-MM configuring AIO lines as PIO lines is not recommended due to their low voltage level.</p>
<p>PIO lines above 21 map to nothing and cannot be mapped or written.</p>
<p>For CSR8670 the PIO lines map to other pins as follows:</p>
<p>(PIO 0..12) have no mapping. They are always PIO 0..12. They can be configured as inputs or outputs. The smaller packages such as Chip Scale Package (CSP) does not have PIO8..12.</p>
<p>(PIO 13..15) may be mapped if required. The exact signal routing is dependent on which package is being used. On smaller packages, such as CSP, you must map PIO13-15 if you want PIO instead of UART UART_RX, UART_TX and UART_CTS. On the BGA package PIO13..15 have their own pins, but if mapped, will be connected to the UART_RX, UART_TX and UART_CTS pins as well. Whether mapped or not, these PIO pins may be configured as inputs or outputs. For each pin, if mapped and set as output, both (UART and PIO) pins are driven. If mapped and set as input, the UART pin is connected and the PIO pin is n/c.</p>
<p>(PIO 16) maps to the UART_RTS pin. This can be configured as an input or an output.</p>
<p>(PIO 17) maps to the PCM_IN pin. This can be configured as an input or an output.</p>
<p>(PIO 18) maps to the PCM_OUT pin. This can be configured as an input or an output.</p>
<p>(PIO 19) maps to the PCM_SYNC pin. This can be configured as an input or an output.</p>
<p>(PIO 20) maps to the PCM_CLK pin. This can be configured as an input or an output.</p>
<p>(PIO 21) maps to the SQIF Flash Clock pin. This can be configured as an input or an output.</p>
<p>(PIO 22) maps to the SQIF RAM Clock pin. This can be configured as an input or an output.</p>
<p>(PIO 23) maps to the SQIF Flash CS pin. This can be configured as an input or an output.</p>
<p>(PIO 24) maps to the SQIF RAM CS pin. This can be configured as an input or an output.</p>
<p>(PIO 25) maps to the SQIF DB0 pin. This can be configured as an input or an output.</p>
<p>(PIO 26) maps to the SQIF DB1 pin. This can be configured as an input or an output.</p>
<p>(PIO 27) maps to the SQIF DB2 pin. This can be configured as an input or an output.</p>
<p>(PIO 28) maps to the SQIF DB3 pin. This can be configured as an input or an output.</p>
<p>PIO lines above 28 map to nothing and cannot be mapped or written. </p>

</div>
</div>
<a class="anchor" id="a3ff8863f0304bbd1842bc77040abbfe0"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="csrtypes_8h.html#a5341710c15e14e51d946a5a5f14b27a6">bool</a> PioSetRts </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="csrtypes_8h.html#a5341710c15e14e51d946a5a5f14b27a6">bool</a>&#160;</td>
          <td class="paramname"><em>level</em>)</td><td></td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Controls the settings of the RTS line. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">level</td><td>Set (TRUE) or Clear (FALSE).</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>TRUE on success, and FALSE if the operation could not be performed.</dd></dl>
<p>When the host transport is set to none, so that the UART is not being used, the application has full control of the RTS line.</p>
<p>When the user transport is in use, this function can be used to assert flow control when the firmware would not automatically do so. However, the firmware may also force RTS low to assert incoming flow control even if PioSetRts(TRUE) has been called.</p>
<p>With other transports (including USB), it is not possible to control the RTS line, and FALSE will be returned. </p>

</div>
</div>
<a class="anchor" id="a39bb207992ad720bfb74d9d302a785bd"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="csrtypes_8h.html#a5341710c15e14e51d946a5a5f14b27a6">bool</a> PioGetCts </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname">)</td><td></td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Lets the VM check the status of the Clear To Send UART pin. </p>
<dl class="section return"><dt>Returns</dt><dd>TRUE if host transport is set to none and CTS input signal within the UART is set to active, else returns FALSE. </dd></dl>

</div>
</div>
<a class="anchor" id="a855e31fe69fa614de5c86ab5adab582f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="csrtypes_8h.html#a4b435a49c74bb91f284f075e63416cb6">uint32</a> PioGetKalimbaControl32 </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname">)</td><td></td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Find out which pins are under kalimba control. </p>
<p>Note: Only some BlueCore variants have access to more than 16 PIO lines. </p>

</div>
</div>
<a class="anchor" id="a65b6c2fb4b2b5c67f3eb5e7ceed4b143"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="csrtypes_8h.html#a4b435a49c74bb91f284f075e63416cb6">uint32</a> PioSetKalimbaControl32 </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="csrtypes_8h.html#a4b435a49c74bb91f284f075e63416cb6">uint32</a>&#160;</td>
          <td class="paramname"><em>mask</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="csrtypes_8h.html#a4b435a49c74bb91f284f075e63416cb6">uint32</a>&#160;</td>
          <td class="paramname"><em>value</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Modify which pins are under control of the Kalimba DSP. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">mask</td><td>The bit mask to use. </td></tr>
    <tr><td class="paramname">value</td><td>The pins to set.</td></tr>
  </table>
  </dd>
</dl>
<p>Aspects the DSP has control over include the direction (input or output) of a PIO, and the level driven when used as an output.</p>
<dl class="section return"><dt>Returns</dt><dd>A 32 bit mask. If any bit in that mask is high then control of that PIO could not be given to Kalimba and the trap call failed.</dd></dl>
<p>Note: Only some BlueCore variants have access to more than 16 PIO lines. </p>

</div>
</div>
<a class="anchor" id="a93d107d956c1ac62d3b5807e0f18d661"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="csrtypes_8h.html#a5341710c15e14e51d946a5a5f14b27a6">bool</a> PioSetFunction </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="csrtypes_8h.html#a05f6b0ae8f6a6e135b0e290c25fe0e4e">uint16</a>&#160;</td>
          <td class="paramname"><em>pin</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="pio__if_8h.html#add6cce9b54fee658d23d673b8eaf4c9b">pin_function_id</a>&#160;</td>
          <td class="paramname"><em>function</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sets a supported function for particular pio pin. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pin</td><td>- pin that requires a function change the pin value ranges from (0..15) or (0..31) depending upon the package </td></tr>
    <tr><td class="paramname">function</td><td>- Supported function that needs to be set for the specified pin. Refer <a class="el" href="pio__if_8h.html#add6cce9b54fee658d23d673b8eaf4c9b" title="Functions which can be mapped onto a pin. This is used in PioSetFunction(). The user must consult the...">pin_function_id</a></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>TRUE if successful, else FALSE.</dd></dl>
<p>if a pin can be mapped as UART_TX/UART_RX/PCM_IN etc, then this function can be used to set the pin for one of the supported functions.</p>
<p>Consult the device's data sheet to understand what functions are supported for each PIO pins.</p>
<p>A pin can support only few functions. Trying to set a function which is NOT supported by the pin will return FALSE without affecting/modifying the existing pin function.</p>
<p>If a pin supports only two functions i.e., PIO/UART_RX then <a class="el" href="pio_8h.html#a7451bed3c1711348d8d7cf8abc3ff3fb" title="Cause the usual function of chip pins to be suppressed, and instead make them behave as PIOs...">PioSetMapPins32()</a> is sufficient to map the pin as UART_RX/PIO. See the <a class="el" href="pio_8h.html#a7451bed3c1711348d8d7cf8abc3ff3fb" title="Cause the usual function of chip pins to be suppressed, and instead make them behave as PIOs...">PioSetMapPins32()</a> documentation for more information.</p>
<p>if a pin supports more than two functions and currently, it is mapped to a pio line, then pin should be unmapped using <a class="el" href="pio_8h.html#a7451bed3c1711348d8d7cf8abc3ff3fb" title="Cause the usual function of chip pins to be suppressed, and instead make them behave as PIOs...">PioSetMapPins32()</a> and then set the supported function for the corresponding pin by calling <a class="el" href="pio_8h.html#a93d107d956c1ac62d3b5807e0f18d661" title="Sets a supported function for particular pio pin. ">PioSetFunction()</a>.</p>
<p><a class="el" href="pio_8h.html#a93d107d956c1ac62d3b5807e0f18d661" title="Sets a supported function for particular pio pin. ">PioSetFunction()</a> Usage Example: if PIO[3] can be mapped to UART_RX/PCM_IN/PIO and currently PIO[3] is mapped as PIO, then VM App should call the <a class="el" href="pio_8h.html#a7451bed3c1711348d8d7cf8abc3ff3fb" title="Cause the usual function of chip pins to be suppressed, and instead make them behave as PIOs...">PioSetMapPins32()</a> to unmap it from PIO and then call <a class="el" href="pio_8h.html#a93d107d956c1ac62d3b5807e0f18d661" title="Sets a supported function for particular pio pin. ">PioSetFunction()</a> to map to (UART_RX/PCM_IN) function.</p>
<p>Unmap PIO[3] so that it can be mapped to a function PioSetMapPins32(1&lt;&lt;3, 0&lt;&lt;3);</p>
<p>This will map PIO[3] line as UART_RX PioSetFunction(3, UART_RX);</p>
<p>To map back the PIO[3] as a PIO, <a class="el" href="pio_8h.html#a7451bed3c1711348d8d7cf8abc3ff3fb" title="Cause the usual function of chip pins to be suppressed, and instead make them behave as PIOs...">PioSetMapPins32()</a> should be used. PioSetMapPins32(1&lt;&lt;3, 1&lt;&lt;3); </p>

</div>
</div>
<a class="anchor" id="a54513e8eb01f7347c2f25f0fd88f2942"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="csrtypes_8h.html#a4b435a49c74bb91f284f075e63416cb6">uint32</a> PioGetUnusedPins32 </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname">)</td><td></td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Determine which physically existing PIOs are currently not in use by firmware or VM apps. </p>
<dl class="section return"><dt>Returns</dt><dd>Those PIOs which are available for use. b31 = PIO31 thru b0 = PIO0. A '1' indicates available. </dd></dl>

</div>
</div>
<a class="anchor" id="aa0d361a0c5e4e1ac7b945f5f7264b680"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="csrtypes_8h.html#a4b435a49c74bb91f284f075e63416cb6">uint32</a> PioSetLcdPins </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="csrtypes_8h.html#a4b435a49c74bb91f284f075e63416cb6">uint32</a>&#160;</td>
          <td class="paramname"><em>mask</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="csrtypes_8h.html#a4b435a49c74bb91f284f075e63416cb6">uint32</a>&#160;</td>
          <td class="paramname"><em>pins</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="csrtypes_8h.html#a05f6b0ae8f6a6e135b0e290c25fe0e4e">uint16</a>&#160;</td>
          <td class="paramname"><em>common_pin</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Grabs PIOs for use by the LCD block. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">mask</td><td>These are the required LCD segments. b0-PIO0, b31=PIO31. </td></tr>
    <tr><td class="paramname">pins</td><td>These should be set to one. </td></tr>
    <tr><td class="paramname">common_pin</td><td>The PIO that will be connected to the LCD common. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>zero if successful, otherwise bad bits returned and nothing done. </dd></dl>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Mon Sep 2 2019 10:47:44 for BlueLab by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.4
</small></address>
</body>
</html>
